<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>あの頃の自作TCG - ドラフト会議</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
            background-color: #f3f4f6; /* bg-gray-100 */
        }
        /* v4: カード選択リストの画像スタイルを削除 */

        /* 参加者グリッドのステータス色 */
        .status-selecting { background-color: #fff; border-color: #d1d5db; }
        .status-selected { background-color: #dbeafe; border-color: #93c5fd; } /* bg-blue-100 */
        .status-unique { background-color: #dcfce7; border-color: #86efac; } /* bg-green-100 */
        .status-conflict { background-color: #fee2e2; border-color: #fca5a5; } /* bg-red-100 */
        .status-won_lotto { background-color: #fef08a; border-color: #facc15; } /* bg-yellow-100 */
        .status-lost_lotto { background-color: #e5e7eb; border-color: #9ca3af; } /* bg-gray-200 */
        .status-waiting { background-color: #f3f4f6; border-color: #d1d5db; } /* bg-gray-100 */
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- メインコンテナ -->
    <div id="app-container" class="container mx-auto p-4 max-w-7xl min-h-screen">

        <!-- ローディング / 初期化中 -->
        <div id="loading" class="flex items-center justify-center min-h-screen">
            <div class="text-center">
                <svg class="animate-spin h-10 w-10 text-blue-600 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
                <p class="mt-4 text-lg font-semibold">ドラフトロビーに接続中...</p>
                <p class="text-gray-600">Firebaseに接続し、認証しています。</p>
            </div>
        </div>

        <!-- ルーム作成 / 参加画面 -->
        <div id="room-setup" class="hidden max-w-md mx-auto mt-20 p-8 bg-white rounded-2xl shadow-xl">
            <h1 class="text-3xl font-bold text-center text-gray-900 mb-6">ドラフト会議へようこそ</h1>
            <p class="text-center text-gray-600 mb-8">『あの頃の自作TCG』ドラフトロビーです。<br>ホストとして新しいロビーを作るか、既存のロビーに参加してください。</p>
            
            <div class="mb-6">
                <label for="user-name" class="block text-sm font-medium text-gray-700 mb-2">あなたの名前</label>
                <input type="text" id="user-name" placeholder="例: 参加者A" class="w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
            </div>

            <button id="create-room-btn" class="w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-blue-700 transition duration-300 ease-in-out transform hover:-translate-y-0.5">
                新しいロビーを作成する (ホスト)
            </button>
            
            <div class="relative my-6">
                <div class="absolute inset-0 flex items-center" aria-hidden="true">
                    <div class="w-full border-t border-gray-300"></div>
                </div>
                <div class="relative flex justify-center">
                    <span class="px-3 bg-white text-sm font-medium text-gray-500">または</span>
                </div>
            </div>

            <div class="space-y-4">
                <label for="room-id-input" class="block text-sm font-medium text-gray-700">ロビーIDで参加する</label>
                <input type="text" id="room-id-input" placeholder="ホストから共有されたID" class="w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                <button id="join-room-btn" class="w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-green-700 transition duration-300 ease-in-out transform hover:-translate-y-0.5">
                    ロビーに参加する
                </button>
            </div>
        </div>

        <!-- ドラフト会議室メイン画面 -->
        <div id="draft-room" class="hidden">
            <!-- ヘッダー -->
            <header class="bg-white rounded-2xl shadow-lg p-6 mb-6">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <div>
                        <h1 class="text-3xl font-bold text-gray-900">ドラフト会議</h1>
                        <p id="room-status-text" class="text-xl font-semibold text-blue-700 mt-2">参加者待機中...</p>
                    </div>
                    <div class="mt-4 md:mt-0">
                        <!-- v5: ドラフト設定表示 (全参加者) -->
                        <div class="text-sm text-gray-700 text-right mb-2">
                            <span>ラウンド上限: <span id="max-picks-display" class="font-semibold">N/A</span></span> |
                            <span>制限時間: <span id="time-limit-display" class="font-semibold">N/A</span> 秒</span>
                        </div>
                        <div class="text-sm text-gray-600 mb-2">参加用URL (ホストのみ表示):</div>
                        <div id="room-url-display" class="hidden items-center gap-2 p-3 bg-gray-100 rounded-lg border border-gray-300">
                            <input id="room-url-input" type="text" readonly class="bg-transparent text-gray-700 focus:outline-none w-full md:w-auto">
                            <button id="copy-url-btn" class="p-2 rounded-md bg-blue-100 text-blue-700 hover:bg-blue-200" title="URLをコピー">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 8.25V6a2.25 2.25 0 00-2.25-2.25H6A2.25 2.25 0 003.75 6v8.25A2.25 2.25 0 006 16.5h2.25m8.25-8.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-7.5A2.25 2.25 0 018.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 00-2.25 2.25v6" />
                                </svg>
                            </button>
                        </div>
                        <div id="copy-message" class="text-sm text-green-600 mt-1 h-4"></div>
                    </div>
                </div>
            </header>

            <!-- メインコンテンツ (2カラム) -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

                <!-- 左カラム: 参加者 & コントロール -->
                <div class="lg:col-span-1 space-y-6">
                    <!-- ホストコントロールパネル -->
                    <div id="host-controls" class="hidden bg-white p-6 rounded-2xl shadow-lg">
                        <h2 class="text-xl font-bold mb-4">ホストコントロール</h2>
                        
                        <!-- v5: ドラフト設定 (ホストのみ) -->
                        <div id="draft-settings" class="space-y-4 mb-6 pt-4 border-t border-gray-200">
                            <h3 class="text-lg font-semibold text-gray-800">ドラフト設定</h3>
                            <div>
                                <label for="max-picks-input" class="block text-sm font-medium text-gray-700 mb-1">
                                    上限ラウンド数 (例: 20)
                                </label>
                                <input type="number" id="max-picks-input" min="1" max="100" class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100">
                            </div>
                            <div>
                                <label for="time-limit-input" class="block text-sm font-medium text-gray-700 mb-1">
                                    制限時間 (秒) (0で無制限)
                                </label>
                                <input type="number" id="time-limit-input" min="0" max="300" class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100">
                            </div>
                        </div>

                        <div class="space-y-3">
                            <button id="start-draft-btn" class="w-full bg-green-600 text-white font-bold py-3 px-5 rounded-lg shadow-md hover:bg-green-700 transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed">
                                ドラフト開始 (参加者 <span id="participant-count">0</span> 人)
                            </button>
                            <button id="reveal-cards-btn" class="w-full bg-blue-600 text-white font-bold py-3 px-5 rounded-lg shadow-md hover:bg-blue-700 transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed hidden">
                                カードを一斉開示
                            </button>
                            <button id="execute-lotto-btn" class="w-full bg-yellow-500 text-white font-bold py-3 px-5 rounded-lg shadow-md hover:bg-yellow-600 transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed hidden">
                                抽選を実行
                            </button>
                            <button id="next-pick-btn" class="w-full bg-gray-700 text-white font-bold py-3 px-5 rounded-lg shadow-md hover:bg-gray-800 transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed hidden">
                                次の巡目へ進む
                            </button>
                            <button id="end-draft-btn" class="w-full bg-red-600 text-white font-bold py-3 px-5 rounded-lg shadow-md hover:bg-red-700 transition duration-300 hidden">
                                ドラフトを終了する
                            </button>
                        </div>
                    </div>

                    <!-- 自分のステータス -->
                    <div class="bg-white p-6 rounded-2xl shadow-lg">
                        <h2 class="text-xl font-bold mb-4">あなたのステータス</h2>
                        <p class="text-lg mb-2">名前: <span id="my-name" class="font-semibold"></span></p>
                        <p class="text-lg mb-4">状態: <span id="my-status" class="font-semibold"></span></p>
                        <!-- v5: タイマー表示 -->
                        <div id="pick-timer-display" class="hidden text-center mb-4">
                            <p class="text-4xl font-bold text-red-600" id="timer-countdown">00</p>
                            <p class="text-sm text-gray-600">残り時間</p>
                        </div>
                        
                        <div id="my-selection-area">
                            <p class="mb-2 font-medium">選択中のカード:</p>
                            <div id="my-selected-card" class="p-3 bg-gray-100 rounded-lg min-h-[40px] text-gray-700">
                                未選択
                            </div>
                            <button id="open-card-picker-btn" class="w-full mt-4 bg-blue-500 text-white font-bold py-3 px-5 rounded-lg shadow-md hover:bg-blue-600 transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed">
                                カードを選択する
                            </button>
                        </div>

                        <!-- 自分の獲得カード履歴 -->
                        <div class="mt-6">
                            <h3 class="text-lg font-bold mb-3">獲得カードリスト</h3>
                            <ul id="my-acquired-cards" class="space-y-2 max-h-60 overflow-y-auto pr-2">
                                <!-- <li>カード名 (R1-P1)</li> -->
                            </ul>
                        </div>
                    </div>

                    <!-- 参加者一覧 (グリッド) -->
                    <div class="bg-white p-6 rounded-2xl shadow-lg">
                        <h2 class="text-xl font-bold mb-4">参加者一覧</h2>
                        <!-- v5: 高さ制限とスクロールを追加 -->
                        <div id="participants-grid-container" class="max-h-72 overflow-y-auto pr-2">
                            <div id="participants-grid" class="grid grid-cols-2 sm:grid-cols-3 gap-3">
                                <!-- 参加者カードがここに入る -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 右カラム: ドラフトボード & プール -->
                <div class="lg:col-span-2 space-y-6">
                    <!-- 全体ドラフトボード -->
                    <div class="bg-white p-6 rounded-2xl shadow-lg">
                        <h2 class="text-xl font-bold mb-4">全体ドラフトボード</h2>
                        <!-- v5: 高さ制限とスクロールを追加 -->
                        <div id="draft-board-container" class="overflow-x-auto max-h-96 overflow-y-auto">
                            <!-- JSでテーブルを生成 -->
                        </div>
                    </div>

                    <!-- カードプール (残りのカード) -->
                    <div class="bg-white p-6 rounded-2xl shadow-lg">
                        <h2 class="text-xl font-bold mb-4">カードプール (残り <span id="card-pool-count">0</span> 枚)</h2>
                        <input type="text" id="pool-search" placeholder="プール内のカードを検索..." class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <div id="card-pool-list" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 max-h-96 overflow-y-auto pr-2">
                            <!-- カードがここに入る -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div> <!-- /app-container -->

    <!-- カード選択モーダル -->
    <div id="card-picker-modal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-75 z-40 flex items-center justify-center p-4">
        <div class="bg-white w-full max-w-2xl rounded-2xl shadow-2xl p-6 m-4 relative max-h-[90vh] flex flex-col">
            <h2 class="text-2xl font-bold mb-5">カードを選択</h2>
            <button id="close-card-picker-btn" class="absolute top-4 right-4 p-2 text-gray-500 hover:text-gray-800">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-7 h-7"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
            </button>

            <input type="text" id="card-search-input" placeholder="カード名で検索..." class="w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500">

            <div id="card-list" class="flex-grow overflow-y-auto space-y-2 pr-2">
                <!-- v4: カードリストアイテム (画像なし) -->
            </div>

            <div class="mt-6 pt-4 border-t border-gray-200">
                <button id="confirm-selection-btn" class="w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-green-700 transition duration-300 disabled:opacity-50" disabled>
                    このカードに決定する
                </button>
            </div>
        </div>
    </div>

    <!-- メッセージボックス -->
    <div id="message-box" class="hidden fixed top-5 right-5 bg-white p-4 rounded-lg shadow-lg border-l-4 z-50 transition-all duration-300 ease-in-out transform translate-x-full">
        <p id="message-text" class="font-semibold"></p>
    </div>


    <!-- Firebase SDK -->
    <script type="module">
        // Firebase SDKのインポート
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { 
            getAuth, 
            signInAnonymously, 
            onAuthStateChanged 
        } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { 
            getFirestore, 
            doc, 
            getDoc, 
            setDoc, 
            addDoc, 
            updateDoc, 
            deleteDoc, 
            onSnapshot, 
            collection, 
            query, 
            where, 
            writeBatch,
            serverTimestamp,
            runTransaction
        } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        
        // --- アプリケーションのグローバル変数 ---
        let db, auth;
        let currentUserId, currentRoomId, isHost = false;
        let roomUnsubscribe = null; // ルームのリスナー解除用
        let participantsUnsubscribe = null; // 参加者のリスナー解除用
        
        // v5: タイマー用のグローバル変数
        let pickTimeout = null; // 時間切れ (setTimeout)
        let pickInterval = null; // 描画更新 (setInterval)


        // --- ダミーのカードデータ ---
        // TODO: ここを『あの頃の自作TCG』の実際のカードリストに差し替えてください。
        // v4: imageUrl を削除
        const DUMMY_CARD_DATA = [
  {
    "id": "うま",
    "name": "うま",
    "imageUrl": "/images/illustrations/うま_transparent.png"
  },
  {
    "id": "おしゃべりなオウム",
    "name": "おしゃべりなオウム",
    "imageUrl": "/images/illustrations/おしゃべりなオウム_transparent.png"
  },
  {
    "id": "おちゃめな魔法使い",
    "name": "おちゃめな魔法使い",
    "imageUrl": "/images/illustrations/おちゃめな魔法使い_transparent.png"
  },
  {
    "id": "かたい貝",
    "name": "かたい貝",
    "imageUrl": "/images/illustrations/かたい貝_transparent.png"
  },
  {
    "id": "かにもぐら先輩",
    "name": "かにもぐら先輩",
    "imageUrl": "/images/illustrations/かにもぐら先輩_transparent.png"
  },
  {
    "id": "かわいいあざらし",
    "name": "かわいいあざらし",
    "imageUrl": "/images/illustrations/かわいいあざらし_transparent.png"
  },
  {
    "id": "ぬらりひょん",
    "name": "ぬらりひょん",
    "imageUrl": "/images/illustrations/ぬらりひょん_transparent.png"
  },
  {
    "id": "はりねずみ",
    "name": "はりねずみ",
    "imageUrl": "/images/illustrations/はりねずみ_transparent.png"
  },
  {
    "id": "はりトラップ",
    "name": "はりトラップ",
    "imageUrl": "/images/illustrations/はりトラップ_transparent.png"
  },
  {
    "id": "アイアンローダー",
    "name": "アイアンローダー",
    "imageUrl": "/images/illustrations/アイアンローダー_transparent.png"
  },
  {
    "id": "アイスドラゴン",
    "name": "アイスドラゴン",
    "imageUrl": "/images/illustrations/アイスドラゴン_transparent.png"
  },
  {
    "id": "アオガザミ",
    "name": "アオガザミ",
    "imageUrl": "/images/illustrations/アオガザミ_transparent.png"
  },
  {
    "id": "アクセラモーター",
    "name": "アクセラモーター",
    "imageUrl": "/images/illustrations/アクセラモーター_transparent.png"
  },
  {
    "id": "アックスゾンビ",
    "name": "アックスゾンビ",
    "imageUrl": "/images/illustrations/アックスゾンビ_transparent.png"
  },
  {
    "id": "アマビエ",
    "name": "アマビエ",
    "imageUrl": "/images/illustrations/アマビエ_transparent.png"
  },
  {
    "id": "イノシシ",
    "name": "イノシシ",
    "imageUrl": "/images/illustrations/イノシシ_transparent.png"
  },
  {
    "id": "インパクトエネルギー",
    "name": "インパクトエネルギー",
    "imageUrl": "/images/illustrations/インパクトエネルギー_transparent.png"
  },
  {
    "id": "インパクトガイド",
    "name": "インパクトガイド",
    "imageUrl": "/images/illustrations/インパクトガイド_transparent.png"
  },
  {
    "id": "ウサギ",
    "name": "ウサギ",
    "imageUrl": "/images/illustrations/ウサギ_transparent.png"
  },
  {
    "id": "ウミガメ",
    "name": "ウミガメ",
    "imageUrl": "/images/illustrations/ウミガメ_transparent.png"
  },
  {
    "id": "エレメンタルエルフ",
    "name": "エレメンタルエルフ",
    "imageUrl": "/images/illustrations/エレメンタルエルフ_transparent.png"
  },
  {
    "id": "オオカミ",
    "name": "オオカミ",
    "imageUrl": "/images/illustrations/オオカミ_transparent.png"
  },
  {
    "id": "オーガ",
    "name": "オーガ",
    "imageUrl": "/images/illustrations/オーガ_transparent.png"
  },
  {
    "id": "オーバーエネルギー",
    "name": "オーバーエネルギー",
    "imageUrl": "/images/illustrations/オーバーエネルギー_transparent.png"
  },
  {
    "id": "カバ",
    "name": "カバ",
    "imageUrl": "/images/illustrations/カバ_transparent.png"
  },
  {
    "id": "ガーゴイル",
    "name": "ガーゴイル",
    "imageUrl": "/images/illustrations/ガーゴイル_transparent.png"
  },
  {
    "id": "キュアエネルギー",
    "name": "キュアエネルギー",
    "imageUrl": "/images/illustrations/キュアエネルギー_transparent.png"
  },
  {
    "id": "キュリアス海",
    "name": "キュリアス海",
    "imageUrl": "/images/illustrations/キュリアス海_transparent.png"
  },
  {
    "id": "ギガドラゴン",
    "name": "ギガドラゴン",
    "imageUrl": "/images/illustrations/ギガドラゴン_transparent.png"
  },
  {
    "id": "クリスタルドラゴン",
    "name": "クリスタルドラゴン",
    "imageUrl": "/images/illustrations/クリスタルドラゴン_transparent.png"
  },
  {
    "id": "グランドエネルギー",
    "name": "グランドエネルギー",
    "imageUrl": "/images/illustrations/グランドエネルギー_transparent.png"
  },
  {
    "id": "コウモリ",
    "name": "コウモリ",
    "imageUrl": "/images/illustrations/コウモリ_transparent.png"
  },
  {
    "id": "コバンザメ",
    "name": "コバンザメ",
    "imageUrl": "/images/illustrations/コバンザメ_transparent.png"
  },
  {
    "id": "ゴブリン突撃！",
    "name": "ゴブリン突撃！",
    "imageUrl": "/images/illustrations/ゴブリン突撃！_transparent.png"
  },
  {
    "id": "ゴーレム",
    "name": "ゴーレム",
    "imageUrl": "/images/illustrations/ゴーレム_transparent.png"
  },
  {
    "id": "サウザンドラゴン",
    "name": "サウザンドラゴン",
    "imageUrl": "/images/illustrations/サウザンドラゴン_transparent.png"
  },
  {
    "id": "サシバチ",
    "name": "サシバチ",
    "imageUrl": "/images/illustrations/サシバチ_transparent.png"
  },
  {
    "id": "サソリ",
    "name": "サソリ",
    "imageUrl": "/images/illustrations/サソリ_transparent.png"
  },
  {
    "id": "サンエネルギー",
    "name": "サンエネルギー",
    "imageUrl": "/images/illustrations/サンエネルギー_transparent.png"
  },
  {
    "id": "ザコ魔法陣",
    "name": "ザコ魔法陣",
    "imageUrl": "/images/illustrations/ザコ魔法陣_transparent.png"
  },
  {
    "id": "シカ",
    "name": "シカ",
    "imageUrl": "/images/illustrations/シカ_transparent.png"
  },
  {
    "id": "シビレナマズ",
    "name": "シビレナマズ",
    "imageUrl": "/images/illustrations/シビレナマズ_transparent.png"
  },
  {
    "id": "スピネルエネルギー",
    "name": "スピネルエネルギー",
    "imageUrl": "/images/illustrations/スピネルエネルギー_transparent.png"
  },
  {
    "id": "スプリットエネルギー",
    "name": "スプリットエネルギー",
    "imageUrl": "/images/illustrations/スプリットエネルギー_transparent.png"
  },
  {
    "id": "スマッシュエネルギー",
    "name": "スマッシュエネルギー",
    "imageUrl": "/images/illustrations/スマッシュエネルギー_transparent.png"
  },
  {
    "id": "スライム",
    "name": "スライム",
    "imageUrl": "/images/illustrations/スライム_transparent.png"
  },
  {
    "id": "スライムタンク",
    "name": "スライムタンク",
    "imageUrl": "/images/illustrations/スライムタンク_transparent.png"
  },
  {
    "id": "スーパードラゴン",
    "name": "スーパードラゴン",
    "imageUrl": "/images/illustrations/スーパードラゴン_transparent.png"
  },
  {
    "id": "ゼウス",
    "name": "ゼウス",
    "imageUrl": "/images/illustrations/ゼウス_transparent.png"
  },
  {
    "id": "ソラトビペンギン",
    "name": "ソラトビペンギン",
    "imageUrl": "/images/illustrations/ソラトビペンギン_transparent.png"
  },
  {
    "id": "ソリッドスライム",
    "name": "ソリッドスライム",
    "imageUrl": "/images/illustrations/ソリッドスライム_transparent.png"
  },
  {
    "id": "ゾンビドラゴン",
    "name": "ゾンビドラゴン",
    "imageUrl": "/images/illustrations/ゾンビドラゴン_transparent.png"
  },
  {
    "id": "ゾンビレックス",
    "name": "ゾンビレックス",
    "imageUrl": "/images/illustrations/ゾンビレックス_transparent.png"
  },
  {
    "id": "タ―ジンバ海岸",
    "name": "タ―ジンバ海岸",
    "imageUrl": "/images/illustrations/タ―ジンバ海岸_transparent.png"
  },
  {
    "id": "ダメージエネルギー",
    "name": "ダメージエネルギー",
    "imageUrl": "/images/illustrations/ダメージエネルギー_transparent.png"
  },
  {
    "id": "ダークエネルギー",
    "name": "ダークエネルギー",
    "imageUrl": "/images/illustrations/ダークエネルギー_transparent.png"
  },
  {
    "id": "チビドラゴン",
    "name": "チビドラゴン",
    "imageUrl": "/images/illustrations/チビドラゴン_transparent.png"
  },
  {
    "id": "テントウムシ",
    "name": "テントウムシ",
    "imageUrl": "/images/illustrations/テントウムシ_transparent.png"
  },
  {
    "id": "ディエティの月明",
    "name": "ディエティの月明",
    "imageUrl": "/images/illustrations/ディエティの月明_transparent.png"
  },
  {
    "id": "デカスライム",
    "name": "デカスライム",
    "imageUrl": "/images/illustrations/デカスライム_transparent.png"
  },
  {
    "id": "トライデントマスター",
    "name": "トライデントマスター",
    "imageUrl": "/images/illustrations/トライデントマスター_transparent.png"
  },
  {
    "id": "ドラゴン",
    "name": "ドラゴン",
    "imageUrl": "/images/illustrations/ドラゴン_transparent.png"
  },
  {
    "id": "ドラゴンヘッド",
    "name": "ドラゴンヘッド",
    "imageUrl": "/images/illustrations/ドラゴンヘッド_transparent.png"
  },
  {
    "id": "ドローエネルギー",
    "name": "ドローエネルギー",
    "imageUrl": "/images/illustrations/ドローエネルギー_transparent.png"
  },
  {
    "id": "ネクロマンサー",
    "name": "ネクロマンサー",
    "imageUrl": "/images/illustrations/ネクロマンサー_transparent.png"
  },
  {
    "id": "ハイドロエネルギー",
    "name": "ハイドロエネルギー",
    "imageUrl": "/images/illustrations/ハイドロエネルギー_transparent.png"
  },
  {
    "id": "ハナバチ",
    "name": "ハナバチ",
    "imageUrl": "/images/illustrations/ハナバチ_transparent.png"
  },
  {
    "id": "ハブタエラプトル",
    "name": "ハブタエラプトル",
    "imageUrl": "/images/illustrations/ハブタエラプトル_transparent.png"
  },
  {
    "id": "ハンドレッドラゴン",
    "name": "ハンドレッドラゴン",
    "imageUrl": "/images/illustrations/ハンドレッドラゴン_transparent.png"
  },
  {
    "id": "バブルスライム",
    "name": "バブルスライム",
    "imageUrl": "/images/illustrations/バブルスライム_transparent.png"
  },
  {
    "id": "バーンドラゴン",
    "name": "バーンドラゴン",
    "imageUrl": "/images/illustrations/バーンドラゴン_transparent.png"
  },
  {
    "id": "パワーエネルギー",
    "name": "パワーエネルギー",
    "imageUrl": "/images/illustrations/パワーエネルギー_transparent.png"
  },
  {
    "id": "パーツエネルギー",
    "name": "パーツエネルギー",
    "imageUrl": "/images/illustrations/パーツエネルギー_transparent.png"
  },
  {
    "id": "ヒツジ",
    "name": "ヒツジ",
    "imageUrl": "/images/illustrations/ヒツジ_transparent.png"
  },
  {
    "id": "ヒールエネルギー",
    "name": "ヒールエネルギー",
    "imageUrl": "/images/illustrations/ヒールエネルギー_transparent.png"
  },
  {
    "id": "ファイアドラゴン",
    "name": "ファイアドラゴン",
    "imageUrl": "/images/illustrations/ファイアドラゴン_transparent.png"
  },
  {
    "id": "フェアリー",
    "name": "フェアリー",
    "imageUrl": "/images/illustrations/フェアリー_transparent.png"
  },
  {
    "id": "フェアリードラゴン",
    "name": "フェアリードラゴン",
    "imageUrl": "/images/illustrations/フェアリードラゴン_transparent.png"
  },
  {
    "id": "フォレストエネルギー",
    "name": "フォレストエネルギー",
    "imageUrl": "/images/illustrations/フォレストエネルギー_transparent.png"
  },
  {
    "id": "ブラックグリフォン",
    "name": "ブラックグリフォン",
    "imageUrl": "/images/illustrations/ブラックグリフォン_transparent.png"
  },
  {
    "id": "ブレイズスラスター",
    "name": "ブレイズスラスター",
    "imageUrl": "/images/illustrations/ブレイズスラスター_transparent.png"
  },
  {
    "id": "ブレイズドラゴン",
    "name": "ブレイズドラゴン",
    "imageUrl": "/images/illustrations/ブレイズドラゴン_transparent.png"
  },
  {
    "id": "ブレイブエネルギー",
    "name": "ブレイブエネルギー",
    "imageUrl": "/images/illustrations/ブレイブエネルギー_transparent.png"
  },
  {
    "id": "ブレードゾンビ",
    "name": "ブレードゾンビ",
    "imageUrl": "/images/illustrations/ブレードゾンビ_transparent.png"
  },
  {
    "id": "ブーストエネルギー",
    "name": "ブーストエネルギー",
    "imageUrl": "/images/illustrations/ブーストエネルギー_transparent.png"
  },
  {
    "id": "プラスラッシャー",
    "name": "プラスラッシャー",
    "imageUrl": "/images/illustrations/プラスラッシャー_transparent.png"
  },
  {
    "id": "ヘビ",
    "name": "ヘビ",
    "imageUrl": "/images/illustrations/ヘビ_transparent.png"
  },
  {
    "id": "ヘヴンエネルギー",
    "name": "ヘヴンエネルギー",
    "imageUrl": "/images/illustrations/ヘヴンエネルギー_transparent.png"
  },
  {
    "id": "ホワイトグリフォン",
    "name": "ホワイトグリフォン",
    "imageUrl": "/images/illustrations/ホワイトグリフォン_transparent.png"
  },
  {
    "id": "ボムゾンビ",
    "name": "ボムゾンビ",
    "imageUrl": "/images/illustrations/ボムゾンビ_transparent.png"
  },
  {
    "id": "ボルケーノエネルギー",
    "name": "ボルケーノエネルギー",
    "imageUrl": "/images/illustrations/ボルケーノエネルギー_transparent.png"
  },
  {
    "id": "ポイズンゾンビ",
    "name": "ポイズンゾンビ",
    "imageUrl": "/images/illustrations/ポイズンゾンビ_transparent.png"
  },
  {
    "id": "マイナスナイパー",
    "name": "マイナスナイパー",
    "imageUrl": "/images/illustrations/マイナスナイパー_transparent.png"
  },
  {
    "id": "マスターゴブリン",
    "name": "マスターゴブリン",
    "imageUrl": "/images/illustrations/マスターゴブリン_transparent.png"
  },
  {
    "id": "マリンエネルギー",
    "name": "マリンエネルギー",
    "imageUrl": "/images/illustrations/マリンエネルギー_transparent.png"
  },
  {
    "id": "ミツバチ",
    "name": "ミツバチ",
    "imageUrl": "/images/illustrations/ミツバチ_transparent.png"
  },
  {
    "id": "ミノタウロス",
    "name": "ミノタウロス",
    "imageUrl": "/images/illustrations/ミノタウロス_transparent.png"
  },
  {
    "id": "ムゲンエネルギー",
    "name": "ムゲンエネルギー",
    "imageUrl": "/images/illustrations/ムゲンエネルギー_transparent.png"
  },
  {
    "id": "ラヴァエネルギー",
    "name": "ラヴァエネルギー",
    "imageUrl": "/images/illustrations/ラヴァエネルギー_transparent.png"
  },
  {
    "id": "リチャージエネルギー",
    "name": "リチャージエネルギー",
    "imageUrl": "/images/illustrations/リチャージエネルギー_transparent.png"
  },
  {
    "id": "リヴァイアサン",
    "name": "リヴァイアサン",
    "imageUrl": "/images/illustrations/リヴァイアサン_transparent.png"
  },
  {
    "id": "レインボーマジシャン",
    "name": "レインボーマジシャン",
    "imageUrl": "/images/illustrations/レインボーマジシャン_transparent.png"
  },
  {
    "id": "レイヴンエネルギー",
    "name": "レイヴンエネルギー",
    "imageUrl": "/images/illustrations/レイヴンエネルギー_transparent.png"
  },
  {
    "id": "ワイバーン",
    "name": "ワイバーン",
    "imageUrl": "/images/illustrations/ワイバーン_transparent.png"
  },
  {
    "id": "一斗缶マン",
    "name": "一斗缶マン",
    "imageUrl": "/images/illustrations/一斗缶マン_transparent.png"
  },
  {
    "id": "万緑の巨象",
    "name": "万緑の巨象",
    "imageUrl": "/images/illustrations/万緑の巨象_transparent.png"
  },
  {
    "id": "三剣の意志",
    "name": "三剣の意志",
    "imageUrl": "/images/illustrations/三剣の意志_transparent.png"
  },
  {
    "id": "丸太のゴーレム",
    "name": "丸太のゴーレム",
    "imageUrl": "/images/illustrations/丸太のゴーレム_transparent.png"
  },
  {
    "id": "丸太騙し",
    "name": "丸太騙し",
    "imageUrl": "/images/illustrations/丸太騙し_transparent.png"
  },
  {
    "id": "二者択双",
    "name": "二者択双",
    "imageUrl": "/images/illustrations/二者択双_transparent.png"
  },
  {
    "id": "亞の祠",
    "name": "亞の祠",
    "imageUrl": "/images/illustrations/亞の祠_transparent.png"
  },
  {
    "id": "人喰い鮫",
    "name": "人喰い鮫",
    "imageUrl": "/images/illustrations/人喰い鮫_transparent.png"
  },
  {
    "id": "人工生命 448号",
    "name": "人工生命 448号",
    "imageUrl": "/images/illustrations/人工生命 448号_transparent.png"
  },
  {
    "id": "人形の一撃",
    "name": "人形の一撃",
    "imageUrl": "/images/illustrations/人形の一撃_transparent.png"
  },
  {
    "id": "人魚の涙",
    "name": "人魚の涙",
    "imageUrl": "/images/illustrations/人魚の涙_transparent.png"
  },
  {
    "id": "今、夢の中で",
    "name": "今、夢の中で",
    "imageUrl": "/images/illustrations/今、夢の中で_transparent.png"
  },
  {
    "id": "仮面英雄バンブート",
    "name": "仮面英雄バンブート",
    "imageUrl": "/images/illustrations/仮面英雄バンブート_transparent.png"
  },
  {
    "id": "休息",
    "name": "休息",
    "imageUrl": "/images/illustrations/休息_transparent.png"
  },
  {
    "id": "供物魔法陣",
    "name": "供物魔法陣",
    "imageUrl": "/images/illustrations/供物魔法陣_transparent.png"
  },
  {
    "id": "信じる心",
    "name": "信じる心",
    "imageUrl": "/images/illustrations/信じる心_transparent.png"
  },
  {
    "id": "傘化け",
    "name": "傘化け",
    "imageUrl": "/images/illustrations/傘化け_transparent.png"
  },
  {
    "id": "傷薬",
    "name": "傷薬",
    "imageUrl": "/images/illustrations/傷薬_transparent.png"
  },
  {
    "id": "働きアリ",
    "name": "働きアリ",
    "imageUrl": "/images/illustrations/働きアリ_transparent.png"
  },
  {
    "id": "光のカーテン",
    "name": "光のカーテン",
    "imageUrl": "/images/illustrations/光のカーテン_transparent.png"
  },
  {
    "id": "光の蝕み",
    "name": "光の蝕み",
    "imageUrl": "/images/illustrations/光の蝕み_transparent.png"
  },
  {
    "id": "光天使ナディ",
    "name": "光天使ナディ",
    "imageUrl": "/images/illustrations/光天使ナディ_transparent.png"
  },
  {
    "id": "六星門",
    "name": "六星門",
    "imageUrl": "/images/illustrations/六星門_transparent.png"
  },
  {
    "id": "共鳴",
    "name": "共鳴",
    "imageUrl": "/images/illustrations/共鳴_transparent.png"
  },
  {
    "id": "兵隊アリ",
    "name": "兵隊アリ",
    "imageUrl": "/images/illustrations/兵隊アリ_transparent.png"
  },
  {
    "id": "兵龍マウナ",
    "name": "兵龍マウナ",
    "imageUrl": "/images/illustrations/兵龍マウナ_transparent.png"
  },
  {
    "id": "円海島",
    "name": "円海島",
    "imageUrl": "/images/illustrations/円海島_transparent.png"
  },
  {
    "id": "円盾の守護者",
    "name": "円盾の守護者",
    "imageUrl": "/images/illustrations/円盾の守護者_transparent.png"
  },
  {
    "id": "再起の天使",
    "name": "再起の天使",
    "imageUrl": "/images/illustrations/再起の天使_transparent.png"
  },
  {
    "id": "冒険者",
    "name": "冒険者",
    "imageUrl": "/images/illustrations/冒険者_transparent.png"
  },
  {
    "id": "冷たき愛",
    "name": "冷たき愛",
    "imageUrl": "/images/illustrations/冷たき愛_transparent.png"
  },
  {
    "id": "凍りスライム",
    "name": "凍りスライム",
    "imageUrl": "/images/illustrations/凍りスライム_transparent.png"
  },
  {
    "id": "凍土の王",
    "name": "凍土の王",
    "imageUrl": "/images/illustrations/凍土の王_transparent.png"
  },
  {
    "id": "凶暴化",
    "name": "凶暴化",
    "imageUrl": "/images/illustrations/凶暴化_transparent.png"
  },
  {
    "id": "刀羽のプテラ",
    "name": "刀羽のプテラ",
    "imageUrl": "/images/illustrations/刀羽のプテラ_transparent.png"
  },
  {
    "id": "刃尾の竜",
    "name": "刃尾の竜",
    "imageUrl": "/images/illustrations/刃尾の竜_transparent.png"
  },
  {
    "id": "初級魔法の教え",
    "name": "初級魔法の教え",
    "imageUrl": "/images/illustrations/初級魔法の教え_transparent.png"
  },
  {
    "id": "剛健なツリーフォーク",
    "name": "剛健なツリーフォーク",
    "imageUrl": "/images/illustrations/剛健なツリーフォーク_transparent.png"
  },
  {
    "id": "剣ゴブリン",
    "name": "剣ゴブリン",
    "imageUrl": "/images/illustrations/剣ゴブリン_transparent.png"
  },
  {
    "id": "創竜術",
    "name": "創竜術",
    "imageUrl": "/images/illustrations/創竜術_transparent.png"
  },
  {
    "id": "力の吸収",
    "name": "力の吸収",
    "imageUrl": "/images/illustrations/力の吸収_transparent.png"
  },
  {
    "id": "南瓜の魔物",
    "name": "南瓜の魔物",
    "imageUrl": "/images/illustrations/南瓜の魔物_transparent.png"
  },
  {
    "id": "博打魔機 バチカ",
    "name": "博打魔機 バチカ",
    "imageUrl": "/images/illustrations/博打魔機 バチカ_transparent.png"
  },
  {
    "id": "原始の種",
    "name": "原始の種",
    "imageUrl": "/images/illustrations/原始の種_transparent.png"
  },
  {
    "id": "原石杖の魔術師",
    "name": "原石杖の魔術師",
    "imageUrl": "/images/illustrations/原石杖の魔術師_transparent.png"
  },
  {
    "id": "双鋏型掘削機",
    "name": "双鋏型掘削機",
    "imageUrl": "/images/illustrations/双鋏型掘削機_transparent.png"
  },
  {
    "id": "双頭ゾンビ",
    "name": "双頭ゾンビ",
    "imageUrl": "/images/illustrations/双頭ゾンビ_transparent.png"
  },
  {
    "id": "古びた加速部品",
    "name": "古びた加速部品",
    "imageUrl": "/images/illustrations/古びた加速部品_transparent.png"
  },
  {
    "id": "古びた地図",
    "name": "古びた地図",
    "imageUrl": "/images/illustrations/古びた地図_transparent.png"
  },
  {
    "id": "古びた携帯電池",
    "name": "古びた携帯電池",
    "imageUrl": "/images/illustrations/古びた携帯電池_transparent.png"
  },
  {
    "id": "古びた検知部品",
    "name": "古びた検知部品",
    "imageUrl": "/images/illustrations/古びた検知部品_transparent.png"
  },
  {
    "id": "古びた航海図",
    "name": "古びた航海図",
    "imageUrl": "/images/illustrations/古びた航海図_transparent.png"
  },
  {
    "id": "古びた設計図",
    "name": "古びた設計図",
    "imageUrl": "/images/illustrations/古びた設計図_transparent.png"
  },
  {
    "id": "古びた駆動部品",
    "name": "古びた駆動部品",
    "imageUrl": "/images/illustrations/古びた駆動部品_transparent.png"
  },
  {
    "id": "古代樹の魔物",
    "name": "古代樹の魔物",
    "imageUrl": "/images/illustrations/古代樹の魔物_transparent.png"
  },
  {
    "id": "古城の呪剣",
    "name": "古城の呪剣",
    "imageUrl": "/images/illustrations/古城の呪剣_transparent.png"
  },
  {
    "id": "呆れたエイ",
    "name": "呆れたエイ",
    "imageUrl": "/images/illustrations/呆れたエイ_transparent.png"
  },
  {
    "id": "呪書の悪魔",
    "name": "呪書の悪魔",
    "imageUrl": "/images/illustrations/呪書の悪魔_transparent.png"
  },
  {
    "id": "呪術の仮面",
    "name": "呪術の仮面",
    "imageUrl": "/images/illustrations/呪術の仮面_transparent.png"
  },
  {
    "id": "呼竜術",
    "name": "呼竜術",
    "imageUrl": "/images/illustrations/呼竜術_transparent.png"
  },
  {
    "id": "命の天樹",
    "name": "命の天樹",
    "imageUrl": "/images/illustrations/命の天樹_transparent.png"
  },
  {
    "id": "回生の天使",
    "name": "回生の天使",
    "imageUrl": "/images/illustrations/回生の天使_transparent.png"
  },
  {
    "id": "回転刃",
    "name": "回転刃",
    "imageUrl": "/images/illustrations/回転刃_transparent.png"
  },
  {
    "id": "因幡の白うさぎ",
    "name": "因幡の白うさぎ",
    "imageUrl": "/images/illustrations/因幡の白うさぎ_transparent.png"
  },
  {
    "id": "地割れ",
    "name": "地割れ",
    "imageUrl": "/images/illustrations/地割れ_transparent.png"
  },
  {
    "id": "地図ゴブリン",
    "name": "地図ゴブリン",
    "imageUrl": "/images/illustrations/地図ゴブリン_transparent.png"
  },
  {
    "id": "垢舐め",
    "name": "垢舐め",
    "imageUrl": "/images/illustrations/垢舐め_transparent.png"
  },
  {
    "id": "堅盾のトリケラ",
    "name": "堅盾のトリケラ",
    "imageUrl": "/images/illustrations/堅盾のトリケラ_transparent.png"
  },
  {
    "id": "増殖研究",
    "name": "増殖研究",
    "imageUrl": "/images/illustrations/増殖研究_transparent.png"
  },
  {
    "id": "夜の騎士",
    "name": "夜の騎士",
    "imageUrl": "/images/illustrations/夜の騎士_transparent.png"
  },
  {
    "id": "夢の思念体",
    "name": "夢の思念体",
    "imageUrl": "/images/illustrations/夢の思念体_transparent.png"
  },
  {
    "id": "夢の昇華",
    "name": "夢の昇華",
    "imageUrl": "/images/illustrations/夢の昇華_transparent.png"
  },
  {
    "id": "夢の案内人",
    "name": "夢の案内人",
    "imageUrl": "/images/illustrations/夢の案内人_transparent.png"
  },
  {
    "id": "夢の足跡",
    "name": "夢の足跡",
    "imageUrl": "/images/illustrations/夢の足跡_transparent.png"
  },
  {
    "id": "夢の顕現",
    "name": "夢の顕現",
    "imageUrl": "/images/illustrations/夢の顕現_transparent.png"
  },
  {
    "id": "夢幻の管理人",
    "name": "夢幻の管理人",
    "imageUrl": "/images/illustrations/夢幻の管理人_transparent.png"
  },
  {
    "id": "夢幻竜",
    "name": "夢幻竜",
    "imageUrl": "/images/illustrations/夢幻竜_transparent.png"
  },
  {
    "id": "夢見屋 亡者＆研究者",
    "name": "夢見屋 亡者＆研究者",
    "imageUrl": "/images/illustrations/夢見屋 亡者＆研究者_transparent.png"
  },
  {
    "id": "大槍角の鮫",
    "name": "大槍角の鮫",
    "imageUrl": "/images/illustrations/大槍角の鮫_transparent.png"
  },
  {
    "id": "大盾の幽霊",
    "name": "大盾の幽霊",
    "imageUrl": "/images/illustrations/大盾の幽霊_transparent.png"
  },
  {
    "id": "大翼のハーピー",
    "name": "大翼のハーピー",
    "imageUrl": "/images/illustrations/大翼のハーピー_transparent.png"
  },
  {
    "id": "大胆な潜伏",
    "name": "大胆な潜伏",
    "imageUrl": "/images/illustrations/大胆な潜伏_transparent.png"
  },
  {
    "id": "大自然の超越",
    "name": "大自然の超越",
    "imageUrl": "/images/illustrations/大自然の超越_transparent.png"
  },
  {
    "id": "大蛇",
    "name": "大蛇",
    "imageUrl": "/images/illustrations/大蛇_transparent.png"
  },
  {
    "id": "天使スライム",
    "name": "天使スライム",
    "imageUrl": "/images/illustrations/天使スライム_transparent.png"
  },
  {
    "id": "天啓",
    "name": "天啓",
    "imageUrl": "/images/illustrations/天啓_transparent.png"
  },
  {
    "id": "天界の泉",
    "name": "天界の泉",
    "imageUrl": "/images/illustrations/天界の泉_transparent.png"
  },
  {
    "id": "天竜剣",
    "name": "天竜剣",
    "imageUrl": "/images/illustrations/天竜剣_transparent.png"
  },
  {
    "id": "天翔共鳴",
    "name": "天翔共鳴",
    "imageUrl": "/images/illustrations/天翔共鳴_transparent.png"
  },
  {
    "id": "天逆鉾の破片",
    "name": "天逆鉾の破片",
    "imageUrl": "/images/illustrations/天逆鉾の破片_transparent.png"
  },
  {
    "id": "天鎧竜ウラノス",
    "name": "天鎧竜ウラノス",
    "imageUrl": "/images/illustrations/天鎧竜ウラノス_transparent.png"
  },
  {
    "id": "天鎧騎士シエロ",
    "name": "天鎧騎士シエロ",
    "imageUrl": "/images/illustrations/天鎧騎士シエロ_transparent.png"
  },
  {
    "id": "奇怪な少女",
    "name": "奇怪な少女",
    "imageUrl": "/images/illustrations/奇怪な少女_transparent.png"
  },
  {
    "id": "女王蟻",
    "name": "女王蟻",
    "imageUrl": "/images/illustrations/女王蟻_transparent.png"
  },
  {
    "id": "子供オーガ",
    "name": "子供オーガ",
    "imageUrl": "/images/illustrations/子供オーガ_transparent.png"
  },
  {
    "id": "存在の照明",
    "name": "存在の照明",
    "imageUrl": "/images/illustrations/存在の照明_transparent.png"
  },
  {
    "id": "孤独",
    "name": "孤独",
    "imageUrl": "/images/illustrations/孤独_transparent.png"
  },
  {
    "id": "宇宙の異形",
    "name": "宇宙の異形",
    "imageUrl": "/images/illustrations/宇宙の異形_transparent.png"
  },
  {
    "id": "安息の導き",
    "name": "安息の導き",
    "imageUrl": "/images/illustrations/安息の導き_transparent.png"
  },
  {
    "id": "完全燃焼",
    "name": "完全燃焼",
    "imageUrl": "/images/illustrations/完全燃焼_transparent.png"
  },
  {
    "id": "宝彩蝶 紅",
    "name": "宝彩蝶 紅",
    "imageUrl": "/images/illustrations/宝彩蝶 紅_transparent.png"
  },
  {
    "id": "宝彩蝶 蒼",
    "name": "宝彩蝶 蒼",
    "imageUrl": "/images/illustrations/宝彩蝶 蒼_transparent.png"
  },
  {
    "id": "宝彩蝶 黄",
    "name": "宝彩蝶 黄",
    "imageUrl": "/images/illustrations/宝彩蝶 黄_transparent.png"
  },
  {
    "id": "宝石姫サファイア",
    "name": "宝石姫サファイア",
    "imageUrl": "/images/illustrations/宝石姫サファイア_transparent.png"
  },
  {
    "id": "宝石姫トパーズ",
    "name": "宝石姫トパーズ",
    "imageUrl": "/images/illustrations/宝石姫トパーズ_transparent.png"
  },
  {
    "id": "宝石姫ルビー",
    "name": "宝石姫ルビー",
    "imageUrl": "/images/illustrations/宝石姫ルビー_transparent.png"
  },
  {
    "id": "宵闇の水面",
    "name": "宵闇の水面",
    "imageUrl": "/images/illustrations/宵闇の水面_transparent.png"
  },
  {
    "id": "封印されし悪魔像",
    "name": "封印されし悪魔像",
    "imageUrl": "/images/illustrations/封印されし悪魔像_transparent.png"
  },
  {
    "id": "導く尖晶石",
    "name": "導く尖晶石",
    "imageUrl": "/images/illustrations/導く尖晶石_transparent.png"
  },
  {
    "id": "小機の濁流",
    "name": "小機の濁流",
    "imageUrl": "/images/illustrations/小機の濁流_transparent.png"
  },
  {
    "id": "尖晶石の人形",
    "name": "尖晶石の人形",
    "imageUrl": "/images/illustrations/尖晶石の人形_transparent.png"
  },
  {
    "id": "尖晶石の晶翼",
    "name": "尖晶石の晶翼",
    "imageUrl": "/images/illustrations/尖晶石の晶翼_transparent.png"
  },
  {
    "id": "尖晶石の精霊",
    "name": "尖晶石の精霊",
    "imageUrl": "/images/illustrations/尖晶石の精霊_transparent.png"
  },
  {
    "id": "屍動鬼",
    "name": "屍動鬼",
    "imageUrl": "/images/illustrations/屍動鬼_transparent.png"
  },
  {
    "id": "山脈崩し",
    "name": "山脈崩し",
    "imageUrl": "/images/illustrations/山脈崩し_transparent.png"
  },
  {
    "id": "山麓の補給兵",
    "name": "山麓の補給兵",
    "imageUrl": "/images/illustrations/山麓の補給兵_transparent.png"
  },
  {
    "id": "岩の人形",
    "name": "岩の人形",
    "imageUrl": "/images/illustrations/岩の人形_transparent.png"
  },
  {
    "id": "崖上からの奇襲",
    "name": "崖上からの奇襲",
    "imageUrl": "/images/illustrations/崖上からの奇襲_transparent.png"
  },
  {
    "id": "崖上の防衛砦",
    "name": "崖上の防衛砦",
    "imageUrl": "/images/illustrations/崖上の防衛砦_transparent.png"
  },
  {
    "id": "嵐流撃",
    "name": "嵐流撃",
    "imageUrl": "/images/illustrations/嵐流撃_transparent.png"
  },
  {
    "id": "巨大な門",
    "name": "巨大な門",
    "imageUrl": "/images/illustrations/巨大な門_transparent.png"
  },
  {
    "id": "巨大破砕機",
    "name": "巨大破砕機",
    "imageUrl": "/images/illustrations/巨大破砕機_transparent.png"
  },
  {
    "id": "巨大魚の波",
    "name": "巨大魚の波",
    "imageUrl": "/images/illustrations/巨大魚の波_transparent.png"
  },
  {
    "id": "希う尖晶石",
    "name": "希う尖晶石",
    "imageUrl": "/images/illustrations/希う尖晶石_transparent.png"
  },
  {
    "id": "帯電の矢",
    "name": "帯電の矢",
    "imageUrl": "/images/illustrations/帯電の矢_transparent.png"
  },
  {
    "id": "平穏の使者",
    "name": "平穏の使者",
    "imageUrl": "/images/illustrations/平穏の使者_transparent.png"
  },
  {
    "id": "幸運を呼ぶ鳥",
    "name": "幸運を呼ぶ鳥",
    "imageUrl": "/images/illustrations/幸運を呼ぶ鳥_transparent.png"
  },
  {
    "id": "幽体化",
    "name": "幽体化",
    "imageUrl": "/images/illustrations/幽体化_transparent.png"
  },
  {
    "id": "弩弓の騎士",
    "name": "弩弓の騎士",
    "imageUrl": "/images/illustrations/弩弓の騎士_transparent.png"
  },
  {
    "id": "弱者の嘆き",
    "name": "弱者の嘆き",
    "imageUrl": "/images/illustrations/弱者の嘆き_transparent.png"
  },
  {
    "id": "弱者の爆発",
    "name": "弱者の爆発",
    "imageUrl": "/images/illustrations/弱者の爆発_transparent.png"
  },
  {
    "id": "弱者の結束",
    "name": "弱者の結束",
    "imageUrl": "/images/illustrations/弱者の結束_transparent.png"
  },
  {
    "id": "強襲",
    "name": "強襲",
    "imageUrl": "/images/illustrations/強襲_transparent.png"
  },
  {
    "id": "彩戦紙インディゴ",
    "name": "彩戦紙インディゴ",
    "imageUrl": "/images/illustrations/彩戦紙インディゴ_transparent.png"
  },
  {
    "id": "彩戦紙トパーズ",
    "name": "彩戦紙トパーズ",
    "imageUrl": "/images/illustrations/彩戦紙トパーズ_transparent.png"
  },
  {
    "id": "彩戦紙ネイビー",
    "name": "彩戦紙ネイビー",
    "imageUrl": "/images/illustrations/彩戦紙ネイビー_transparent.png"
  },
  {
    "id": "彩戦紙マゼンタ",
    "name": "彩戦紙マゼンタ",
    "imageUrl": "/images/illustrations/彩戦紙マゼンタ_transparent.png"
  },
  {
    "id": "彼岸の精霊 カナロア",
    "name": "彼岸の精霊 カナロア",
    "imageUrl": "/images/illustrations/彼岸の精霊 カナロア_transparent.png"
  },
  {
    "id": "彼岸の魔女 リリィ",
    "name": "彼岸の魔女 リリィ",
    "imageUrl": "/images/illustrations/彼岸の魔女 リリィ_transparent.png"
  },
  {
    "id": "徴兵",
    "name": "徴兵",
    "imageUrl": "/images/illustrations/徴兵_transparent.png"
  },
  {
    "id": "怠惰な海賊嬢",
    "name": "怠惰な海賊嬢",
    "imageUrl": "/images/illustrations/怠惰な海賊嬢_transparent.png"
  },
  {
    "id": "怪力の甲虫",
    "name": "怪力の甲虫",
    "imageUrl": "/images/illustrations/怪力の甲虫_transparent.png"
  },
  {
    "id": "怪物蟹",
    "name": "怪物蟹",
    "imageUrl": "/images/illustrations/怪物蟹_transparent.png"
  },
  {
    "id": "怪竜の書",
    "name": "怪竜の書",
    "imageUrl": "/images/illustrations/怪竜の書_transparent.png"
  },
  {
    "id": "悪意の芽吹",
    "name": "悪意の芽吹",
    "imageUrl": "/images/illustrations/悪意の芽吹_transparent.png"
  },
  {
    "id": "悪戯フェアリー",
    "name": "悪戯フェアリー",
    "imageUrl": "/images/illustrations/悪戯フェアリー_transparent.png"
  },
  {
    "id": "悪魔な注文",
    "name": "悪魔な注文",
    "imageUrl": "/images/illustrations/悪魔な注文_transparent.png"
  },
  {
    "id": "悪魔の契約",
    "name": "悪魔の契約",
    "imageUrl": "/images/illustrations/悪魔の契約_transparent.png"
  },
  {
    "id": "惨然槍の邪竜",
    "name": "惨然槍の邪竜",
    "imageUrl": "/images/illustrations/惨然槍の邪竜_transparent.png"
  },
  {
    "id": "愛おしき放課後",
    "name": "愛おしき放課後",
    "imageUrl": "/images/illustrations/愛おしき放課後_transparent.png"
  },
  {
    "id": "慈愛フェアリー",
    "name": "慈愛フェアリー",
    "imageUrl": "/images/illustrations/慈愛フェアリー_transparent.png"
  },
  {
    "id": "成長",
    "name": "成長",
    "imageUrl": "/images/illustrations/成長_transparent.png"
  },
  {
    "id": "戒律の僧",
    "name": "戒律の僧",
    "imageUrl": "/images/illustrations/戒律の僧_transparent.png"
  },
  {
    "id": "戦車ゴブリン",
    "name": "戦車ゴブリン",
    "imageUrl": "/images/illustrations/戦車ゴブリン_transparent.png"
  },
  {
    "id": "戦闘兵器：B",
    "name": "戦闘兵器：B",
    "imageUrl": "/images/illustrations/戦闘兵器：B_transparent.png"
  },
  {
    "id": "戦闘兵器：C",
    "name": "戦闘兵器：C",
    "imageUrl": "/images/illustrations/戦闘兵器：C_transparent.png"
  },
  {
    "id": "戦闘兵器：H",
    "name": "戦闘兵器：H",
    "imageUrl": "/images/illustrations/戦闘兵器：H_transparent.png"
  },
  {
    "id": "戦闘兵器：SR",
    "name": "戦闘兵器：SR",
    "imageUrl": "/images/illustrations/戦闘兵器：SR_transparent.png"
  },
  {
    "id": "手鏡の幽霊",
    "name": "手鏡の幽霊",
    "imageUrl": "/images/illustrations/手鏡の幽霊_transparent.png"
  },
  {
    "id": "抵抗",
    "name": "抵抗",
    "imageUrl": "/images/illustrations/抵抗_transparent.png"
  },
  {
    "id": "招かれざる恐怖",
    "name": "招かれざる恐怖",
    "imageUrl": "/images/illustrations/招かれざる恐怖_transparent.png"
  },
  {
    "id": "拡散炎",
    "name": "拡散炎",
    "imageUrl": "/images/illustrations/拡散炎_transparent.png"
  },
  {
    "id": "掌握",
    "name": "掌握",
    "imageUrl": "/images/illustrations/掌握_transparent.png"
  },
  {
    "id": "採掘ゴブリン",
    "name": "採掘ゴブリン",
    "imageUrl": "/images/illustrations/採掘ゴブリン_transparent.png"
  },
  {
    "id": "撞木鮫",
    "name": "撞木鮫",
    "imageUrl": "/images/illustrations/撞木鮫_transparent.png"
  },
  {
    "id": "整備",
    "name": "整備",
    "imageUrl": "/images/illustrations/整備_transparent.png"
  },
  {
    "id": "斧の戦士",
    "name": "斧の戦士",
    "imageUrl": "/images/illustrations/斧の戦士_transparent.png"
  },
  {
    "id": "新緑の石碑",
    "name": "新緑の石碑",
    "imageUrl": "/images/illustrations/新緑の石碑_transparent.png"
  },
  {
    "id": "旗持ちの騎士",
    "name": "旗持ちの騎士",
    "imageUrl": "/images/illustrations/旗持ちの騎士_transparent.png"
  },
  {
    "id": "日傘の海賊嬢",
    "name": "日傘の海賊嬢",
    "imageUrl": "/images/illustrations/日傘の海賊嬢_transparent.png"
  },
  {
    "id": "旧式機械装甲",
    "name": "旧式機械装甲",
    "imageUrl": "/images/illustrations/旧式機械装甲_transparent.png"
  },
  {
    "id": "星になる",
    "name": "星になる",
    "imageUrl": "/images/illustrations/星になる_transparent.png"
  },
  {
    "id": "暗殺",
    "name": "暗殺",
    "imageUrl": "/images/illustrations/暗殺_transparent.png"
  },
  {
    "id": "暴牙のティラノ",
    "name": "暴牙のティラノ",
    "imageUrl": "/images/illustrations/暴牙のティラノ_transparent.png"
  },
  {
    "id": "最終兵器：MS",
    "name": "最終兵器：MS",
    "imageUrl": "/images/illustrations/最終兵器：MS_transparent.png"
  },
  {
    "id": "月光の天使",
    "name": "月光の天使",
    "imageUrl": "/images/illustrations/月光の天使_transparent.png"
  },
  {
    "id": "月宿る海",
    "name": "月宿る海",
    "imageUrl": "/images/illustrations/月宿る海_transparent.png"
  },
  {
    "id": "月迎え",
    "name": "月迎え",
    "imageUrl": "/images/illustrations/月迎え_transparent.png"
  },
  {
    "id": "木の宝箱",
    "name": "木の宝箱",
    "imageUrl": "/images/illustrations/木の宝箱_transparent.png"
  },
  {
    "id": "木立火",
    "name": "木立火",
    "imageUrl": "/images/illustrations/木立火_transparent.png"
  },
  {
    "id": "林道の亡霊",
    "name": "林道の亡霊",
    "imageUrl": "/images/illustrations/林道の亡霊_transparent.png"
  },
  {
    "id": "枯れた森の野営地",
    "name": "枯れた森の野営地",
    "imageUrl": "/images/illustrations/枯れた森の野営地_transparent.png"
  },
  {
    "id": "枯れ木の魔物",
    "name": "枯れ木の魔物",
    "imageUrl": "/images/illustrations/枯れ木の魔物_transparent.png"
  },
  {
    "id": "栄華の花園",
    "name": "栄華の花園",
    "imageUrl": "/images/illustrations/栄華の花園_transparent.png"
  },
  {
    "id": "桜小鳥",
    "name": "桜小鳥",
    "imageUrl": "/images/illustrations/桜小鳥_transparent.png"
  },
  {
    "id": "棒ゴブリン",
    "name": "棒ゴブリン",
    "imageUrl": "/images/illustrations/棒ゴブリン_transparent.png"
  },
  {
    "id": "棒人間",
    "name": "棒人間",
    "imageUrl": "/images/illustrations/棒人間_transparent.png"
  },
  {
    "id": "森の脅威",
    "name": "森の脅威",
    "imageUrl": "/images/illustrations/森の脅威_transparent.png"
  },
  {
    "id": "森の贄",
    "name": "森の贄",
    "imageUrl": "/images/illustrations/森の贄_transparent.png"
  },
  {
    "id": "森の雫",
    "name": "森の雫",
    "imageUrl": "/images/illustrations/森の雫_transparent.png"
  },
  {
    "id": "森焼き",
    "name": "森焼き",
    "imageUrl": "/images/illustrations/森焼き_transparent.png"
  },
  {
    "id": "極彩戦紙アマル",
    "name": "極彩戦紙アマル",
    "imageUrl": "/images/illustrations/極彩戦紙アマル_transparent.png"
  },
  {
    "id": "極彩鳥の巣",
    "name": "極彩鳥の巣",
    "imageUrl": "/images/illustrations/極彩鳥の巣_transparent.png"
  },
  {
    "id": "樹葉の幽霊",
    "name": "樹葉の幽霊",
    "imageUrl": "/images/illustrations/樹葉の幽霊_transparent.png"
  },
  {
    "id": "武装強化",
    "name": "武装強化",
    "imageUrl": "/images/illustrations/武装強化_transparent.png"
  },
  {
    "id": "歪な氷像",
    "name": "歪な氷像",
    "imageUrl": "/images/illustrations/歪な氷像_transparent.png"
  },
  {
    "id": "歪む地平",
    "name": "歪む地平",
    "imageUrl": "/images/illustrations/歪む地平_transparent.png"
  },
  {
    "id": "死体漁り",
    "name": "死体漁り",
    "imageUrl": "/images/illustrations/死体漁り_transparent.png"
  },
  {
    "id": "死神の石柱",
    "name": "死神の石柱",
    "imageUrl": "/images/illustrations/死神の石柱_transparent.png"
  },
  {
    "id": "毒入り傷薬",
    "name": "毒入り傷薬",
    "imageUrl": "/images/illustrations/毒入り傷薬_transparent.png"
  },
  {
    "id": "毒殺",
    "name": "毒殺",
    "imageUrl": "/images/illustrations/毒殺_transparent.png"
  },
  {
    "id": "毒沼の竜",
    "name": "毒沼の竜",
    "imageUrl": "/images/illustrations/毒沼の竜_transparent.png"
  },
  {
    "id": "毒波",
    "name": "毒波",
    "imageUrl": "/images/illustrations/毒波_transparent.png"
  },
  {
    "id": "気竜術",
    "name": "気竜術",
    "imageUrl": "/images/illustrations/気竜術_transparent.png"
  },
  {
    "id": "水の精霊",
    "name": "水の精霊",
    "imageUrl": "/images/illustrations/水の精霊_transparent.png"
  },
  {
    "id": "水の魔法使い",
    "name": "水の魔法使い",
    "imageUrl": "/images/illustrations/水の魔法使い_transparent.png"
  },
  {
    "id": "水鉄砲ゴブリン",
    "name": "水鉄砲ゴブリン",
    "imageUrl": "/images/illustrations/水鉄砲ゴブリン_transparent.png"
  },
  {
    "id": "氷の雨",
    "name": "氷の雨",
    "imageUrl": "/images/illustrations/氷の雨_transparent.png"
  },
  {
    "id": "氷壁",
    "name": "氷壁",
    "imageUrl": "/images/illustrations/氷壁_transparent.png"
  },
  {
    "id": "泉の水瓶",
    "name": "泉の水瓶",
    "imageUrl": "/images/illustrations/泉の水瓶_transparent.png"
  },
  {
    "id": "泡の異形",
    "name": "泡の異形",
    "imageUrl": "/images/illustrations/泡の異形_transparent.png"
  },
  {
    "id": "波竜術",
    "name": "波竜術",
    "imageUrl": "/images/illustrations/波竜術_transparent.png"
  },
  {
    "id": "洞窟の悪魔",
    "name": "洞窟の悪魔",
    "imageUrl": "/images/illustrations/洞窟の悪魔_transparent.png"
  },
  {
    "id": "活竜術",
    "name": "活竜術",
    "imageUrl": "/images/illustrations/活竜術_transparent.png"
  },
  {
    "id": "流れ行く波",
    "name": "流れ行く波",
    "imageUrl": "/images/illustrations/流れ行く波_transparent.png"
  },
  {
    "id": "流転の魔女",
    "name": "流転の魔女",
    "imageUrl": "/images/illustrations/流転の魔女_transparent.png"
  },
  {
    "id": "海坊主",
    "name": "海坊主",
    "imageUrl": "/images/illustrations/海坊主_transparent.png"
  },
  {
    "id": "海底探査",
    "name": "海底探査",
    "imageUrl": "/images/illustrations/海底探査_transparent.png"
  },
  {
    "id": "海賊砲",
    "name": "海賊砲",
    "imageUrl": "/images/illustrations/海賊砲_transparent.png"
  },
  {
    "id": "海賊船",
    "name": "海賊船",
    "imageUrl": "/images/illustrations/海賊船_transparent.png"
  },
  {
    "id": "海賊長ヴァルロス",
    "name": "海賊長ヴァルロス",
    "imageUrl": "/images/illustrations/海賊長ヴァルロス_transparent.png"
  },
  {
    "id": "海風の略奪者",
    "name": "海風の略奪者",
    "imageUrl": "/images/illustrations/海風の略奪者_transparent.png"
  },
  {
    "id": "消耗品",
    "name": "消耗品",
    "imageUrl": "/images/illustrations/消耗品_transparent.png"
  },
  {
    "id": "淡紅の欠片",
    "name": "淡紅の欠片",
    "imageUrl": "/images/illustrations/淡紅の欠片_transparent.png"
  },
  {
    "id": "深森の守護者",
    "name": "深森の守護者",
    "imageUrl": "/images/illustrations/深森の守護者_transparent.png"
  },
  {
    "id": "深海の禍根",
    "name": "深海の禍根",
    "imageUrl": "/images/illustrations/深海の禍根_transparent.png"
  },
  {
    "id": "深青の大鯨",
    "name": "深青の大鯨",
    "imageUrl": "/images/illustrations/深青の大鯨_transparent.png"
  },
  {
    "id": "混濁",
    "name": "混濁",
    "imageUrl": "/images/illustrations/混濁_transparent.png"
  },
  {
    "id": "湖畔の幽霊",
    "name": "湖畔の幽霊",
    "imageUrl": "/images/illustrations/湖畔の幽霊_transparent.png"
  },
  {
    "id": "滝壺蟹",
    "name": "滝壺蟹",
    "imageUrl": "/images/illustrations/滝壺蟹_transparent.png"
  },
  {
    "id": "濡女",
    "name": "濡女",
    "imageUrl": "/images/illustrations/濡女_transparent.png"
  },
  {
    "id": "火の輪",
    "name": "火の輪",
    "imageUrl": "/images/illustrations/火の輪_transparent.png"
  },
  {
    "id": "火の魔法使い",
    "name": "火の魔法使い",
    "imageUrl": "/images/illustrations/火の魔法使い_transparent.png"
  },
  {
    "id": "火口のヌシ",
    "name": "火口のヌシ",
    "imageUrl": "/images/illustrations/火口のヌシ_transparent.png"
  },
  {
    "id": "火山弾",
    "name": "火山弾",
    "imageUrl": "/images/illustrations/火山弾_transparent.png"
  },
  {
    "id": "火炎式魔力砲",
    "name": "火炎式魔力砲",
    "imageUrl": "/images/illustrations/火炎式魔力砲_transparent.png"
  },
  {
    "id": "火花",
    "name": "火花",
    "imageUrl": "/images/illustrations/火花_transparent.png"
  },
  {
    "id": "火薬の悪魔",
    "name": "火薬の悪魔",
    "imageUrl": "/images/illustrations/火薬の悪魔_transparent.png"
  },
  {
    "id": "火車",
    "name": "火車",
    "imageUrl": "/images/illustrations/火車_transparent.png"
  },
  {
    "id": "灰の大地",
    "name": "灰の大地",
    "imageUrl": "/images/illustrations/灰の大地_transparent.png"
  },
  {
    "id": "災いの渦潮",
    "name": "災いの渦潮",
    "imageUrl": "/images/illustrations/災いの渦潮_transparent.png"
  },
  {
    "id": "災厄",
    "name": "災厄",
    "imageUrl": "/images/illustrations/災厄_transparent.png"
  },
  {
    "id": "炎の精霊",
    "name": "炎の精霊",
    "imageUrl": "/images/illustrations/炎の精霊_transparent.png"
  },
  {
    "id": "炎剣の騎士",
    "name": "炎剣の騎士",
    "imageUrl": "/images/illustrations/炎剣の騎士_transparent.png"
  },
  {
    "id": "炎天使ジダ",
    "name": "炎天使ジダ",
    "imageUrl": "/images/illustrations/炎天使ジダ_transparent.png"
  },
  {
    "id": "炎鱗の鮫",
    "name": "炎鱗の鮫",
    "imageUrl": "/images/illustrations/炎鱗の鮫_transparent.png"
  },
  {
    "id": "炎鱗双剣",
    "name": "炎鱗双剣",
    "imageUrl": "/images/illustrations/炎鱗双剣_transparent.png"
  },
  {
    "id": "炎鱗工房",
    "name": "炎鱗工房",
    "imageUrl": "/images/illustrations/炎鱗工房_transparent.png"
  },
  {
    "id": "炎鱗弓",
    "name": "炎鱗弓",
    "imageUrl": "/images/illustrations/炎鱗弓_transparent.png"
  },
  {
    "id": "炎鱗狩りの剣士",
    "name": "炎鱗狩りの剣士",
    "imageUrl": "/images/illustrations/炎鱗狩りの剣士_transparent.png"
  },
  {
    "id": "炎鱗竜プロクス",
    "name": "炎鱗竜プロクス",
    "imageUrl": "/images/illustrations/炎鱗竜プロクス_transparent.png"
  },
  {
    "id": "点火",
    "name": "点火",
    "imageUrl": "/images/illustrations/点火_transparent.png"
  },
  {
    "id": "烈火共鳴",
    "name": "烈火共鳴",
    "imageUrl": "/images/illustrations/烈火共鳴_transparent.png"
  },
  {
    "id": "無の創造",
    "name": "無の創造",
    "imageUrl": "/images/illustrations/無の創造_transparent.png"
  },
  {
    "id": "無形の霊術師",
    "name": "無形の霊術師",
    "imageUrl": "/images/illustrations/無形の霊術師_transparent.png"
  },
  {
    "id": "無限の恵沢",
    "name": "無限の恵沢",
    "imageUrl": "/images/illustrations/無限の恵沢_transparent.png"
  },
  {
    "id": "焦げスライム",
    "name": "焦げスライム",
    "imageUrl": "/images/illustrations/焦げスライム_transparent.png"
  },
  {
    "id": "焼き魚",
    "name": "焼き魚",
    "imageUrl": "/images/illustrations/焼き魚_transparent.png"
  },
  {
    "id": "焼却",
    "name": "焼却",
    "imageUrl": "/images/illustrations/焼却_transparent.png"
  },
  {
    "id": "煌めく尖晶石",
    "name": "煌めく尖晶石",
    "imageUrl": "/images/illustrations/煌めく尖晶石_transparent.png"
  },
  {
    "id": "熟達の女騎士",
    "name": "熟達の女騎士",
    "imageUrl": "/images/illustrations/熟達の女騎士_transparent.png"
  },
  {
    "id": "燃えトカゲ",
    "name": "燃えトカゲ",
    "imageUrl": "/images/illustrations/燃えトカゲ_transparent.png"
  },
  {
    "id": "燃天の熾天使",
    "name": "燃天の熾天使",
    "imageUrl": "/images/illustrations/燃天の熾天使_transparent.png"
  },
  {
    "id": "爆発",
    "name": "爆発",
    "imageUrl": "/images/illustrations/爆発_transparent.png"
  },
  {
    "id": "爆発魚",
    "name": "爆発魚",
    "imageUrl": "/images/illustrations/爆発魚_transparent.png"
  },
  {
    "id": "狂気の術式",
    "name": "狂気の術式",
    "imageUrl": "/images/illustrations/狂気の術式_transparent.png"
  },
  {
    "id": "獣使い",
    "name": "獣使い",
    "imageUrl": "/images/illustrations/獣使い_transparent.png"
  },
  {
    "id": "王国の参謀",
    "name": "王国の参謀",
    "imageUrl": "/images/illustrations/王国の参謀_transparent.png"
  },
  {
    "id": "王国の弓騎士",
    "name": "王国の弓騎士",
    "imageUrl": "/images/illustrations/王国の弓騎士_transparent.png"
  },
  {
    "id": "王国の槍騎士",
    "name": "王国の槍騎士",
    "imageUrl": "/images/illustrations/王国の槍騎士_transparent.png"
  },
  {
    "id": "王国の騎士団長",
    "name": "王国の騎士団長",
    "imageUrl": "/images/illustrations/王国の騎士団長_transparent.png"
  },
  {
    "id": "甘々な論理",
    "name": "甘々な論理",
    "imageUrl": "/images/illustrations/甘々な論理_transparent.png"
  },
  {
    "id": "甘誘の悪魔",
    "name": "甘誘の悪魔",
    "imageUrl": "/images/illustrations/甘誘の悪魔_transparent.png"
  },
  {
    "id": "畏怖の紋章",
    "name": "畏怖の紋章",
    "imageUrl": "/images/illustrations/畏怖の紋章_transparent.png"
  },
  {
    "id": "疑似餌付き",
    "name": "疑似餌付き",
    "imageUrl": "/images/illustrations/疑似餌付き_transparent.png"
  },
  {
    "id": "疾風のハーピー",
    "name": "疾風のハーピー",
    "imageUrl": "/images/illustrations/疾風のハーピー_transparent.png"
  },
  {
    "id": "白と黒",
    "name": "白と黒",
    "imageUrl": "/images/illustrations/白と黒_transparent.png"
  },
  {
    "id": "白蛇",
    "name": "白蛇",
    "imageUrl": "/images/illustrations/白蛇_transparent.png"
  },
  {
    "id": "白詰草の魔物",
    "name": "白詰草の魔物",
    "imageUrl": "/images/illustrations/白詰草の魔物_transparent.png"
  },
  {
    "id": "白魔の訪れ",
    "name": "白魔の訪れ",
    "imageUrl": "/images/illustrations/白魔の訪れ_transparent.png"
  },
  {
    "id": "百鬼夜行",
    "name": "百鬼夜行",
    "imageUrl": "/images/illustrations/百鬼夜行_transparent.png"
  },
  {
    "id": "盗み",
    "name": "盗み",
    "imageUrl": "/images/illustrations/盗み_transparent.png"
  },
  {
    "id": "盾鋏の蟹",
    "name": "盾鋏の蟹",
    "imageUrl": "/images/illustrations/盾鋏の蟹_transparent.png"
  },
  {
    "id": "知識の波",
    "name": "知識の波",
    "imageUrl": "/images/illustrations/知識の波_transparent.png"
  },
  {
    "id": "短剣の騎士",
    "name": "短剣の騎士",
    "imageUrl": "/images/illustrations/短剣の騎士_transparent.png"
  },
  {
    "id": "石の剣",
    "name": "石の剣",
    "imageUrl": "/images/illustrations/石の剣_transparent.png"
  },
  {
    "id": "石ゴブリン",
    "name": "石ゴブリン",
    "imageUrl": "/images/illustrations/石ゴブリン_transparent.png"
  },
  {
    "id": "石鎚の鍛治師",
    "name": "石鎚の鍛治師",
    "imageUrl": "/images/illustrations/石鎚の鍛治師_transparent.png"
  },
  {
    "id": "砂浜のゴーレム",
    "name": "砂浜のゴーレム",
    "imageUrl": "/images/illustrations/砂浜のゴーレム_transparent.png"
  },
  {
    "id": "破邪の天使",
    "name": "破邪の天使",
    "imageUrl": "/images/illustrations/破邪の天使_transparent.png"
  },
  {
    "id": "碑獣の刻石",
    "name": "碑獣の刻石",
    "imageUrl": "/images/illustrations/碑獣の刻石_transparent.png"
  },
  {
    "id": "碑獣アリオール",
    "name": "碑獣アリオール",
    "imageUrl": "/images/illustrations/碑獣アリオール_transparent.png"
  },
  {
    "id": "碑獣ガリル",
    "name": "碑獣ガリル",
    "imageUrl": "/images/illustrations/碑獣ガリル_transparent.png"
  },
  {
    "id": "碑獣ガーヴ",
    "name": "碑獣ガーヴ",
    "imageUrl": "/images/illustrations/碑獣ガーヴ_transparent.png"
  },
  {
    "id": "碑獣タイタン",
    "name": "碑獣タイタン",
    "imageUrl": "/images/illustrations/碑獣タイタン_transparent.png"
  },
  {
    "id": "碑獣タッソ",
    "name": "碑獣タッソ",
    "imageUrl": "/images/illustrations/碑獣タッソ_transparent.png"
  },
  {
    "id": "碑獣ヴィファル",
    "name": "碑獣ヴィファル",
    "imageUrl": "/images/illustrations/碑獣ヴィファル_transparent.png"
  },
  {
    "id": "碧い花",
    "name": "碧い花",
    "imageUrl": "/images/illustrations/碧い花_transparent.png"
  },
  {
    "id": "祈りの天使像",
    "name": "祈りの天使像",
    "imageUrl": "/images/illustrations/祈りの天使像_transparent.png"
  },
  {
    "id": "神秘への遭遇",
    "name": "神秘への遭遇",
    "imageUrl": "/images/illustrations/神秘への遭遇_transparent.png"
  },
  {
    "id": "神託の鳥",
    "name": "神託の鳥",
    "imageUrl": "/images/illustrations/神託の鳥_transparent.png"
  },
  {
    "id": "禁忌の錬成",
    "name": "禁忌の錬成",
    "imageUrl": "/images/illustrations/禁忌の錬成_transparent.png"
  },
  {
    "id": "秘薬の治療師",
    "name": "秘薬の治療師",
    "imageUrl": "/images/illustrations/秘薬の治療師_transparent.png"
  },
  {
    "id": "空を駆ける者",
    "name": "空を駆ける者",
    "imageUrl": "/images/illustrations/空を駆ける者_transparent.png"
  },
  {
    "id": "突風",
    "name": "突風",
    "imageUrl": "/images/illustrations/突風_transparent.png"
  },
  {
    "id": "竜の記憶",
    "name": "竜の記憶",
    "imageUrl": "/images/illustrations/竜の記憶_transparent.png"
  },
  {
    "id": "竜術師",
    "name": "竜術師",
    "imageUrl": "/images/illustrations/竜術師_transparent.png"
  },
  {
    "id": "竜討毒の鳥",
    "name": "竜討毒の鳥",
    "imageUrl": "/images/illustrations/竜討毒の鳥_transparent.png"
  },
  {
    "id": "竜頭山",
    "name": "竜頭山",
    "imageUrl": "/images/illustrations/竜頭山_transparent.png"
  },
  {
    "id": "竹の魔物",
    "name": "竹の魔物",
    "imageUrl": "/images/illustrations/竹の魔物_transparent.png"
  },
  {
    "id": "笑うエイ",
    "name": "笑うエイ",
    "imageUrl": "/images/illustrations/笑うエイ_transparent.png"
  },
  {
    "id": "篝火の幽霊",
    "name": "篝火の幽霊",
    "imageUrl": "/images/illustrations/篝火の幽霊_transparent.png"
  },
  {
    "id": "籠罠",
    "name": "籠罠",
    "imageUrl": "/images/illustrations/籠罠_transparent.png"
  },
  {
    "id": "糸動奇 柱",
    "name": "糸動奇 柱",
    "imageUrl": "/images/illustrations/糸動奇 柱_transparent.png"
  },
  {
    "id": "糸動奇 環",
    "name": "糸動奇 環",
    "imageUrl": "/images/illustrations/糸動奇 環_transparent.png"
  },
  {
    "id": "糸動奇 箱",
    "name": "糸動奇 箱",
    "imageUrl": "/images/illustrations/糸動奇 箱_transparent.png"
  },
  {
    "id": "糸動奇 角",
    "name": "糸動奇 角",
    "imageUrl": "/images/illustrations/糸動奇 角_transparent.png"
  },
  {
    "id": "糸動源",
    "name": "糸動源",
    "imageUrl": "/images/illustrations/糸動源_transparent.png"
  },
  {
    "id": "糸動騎士",
    "name": "糸動騎士",
    "imageUrl": "/images/illustrations/糸動騎士_transparent.png"
  },
  {
    "id": "紅天狗茸の魔物",
    "name": "紅天狗茸の魔物",
    "imageUrl": "/images/illustrations/紅天狗茸の魔物_transparent.png"
  },
  {
    "id": "紅蓮球",
    "name": "紅蓮球",
    "imageUrl": "/images/illustrations/紅蓮球_transparent.png"
  },
  {
    "id": "紅魚",
    "name": "紅魚",
    "imageUrl": "/images/illustrations/紅魚_transparent.png"
  },
  {
    "id": "紫月昇り",
    "name": "紫月昇り",
    "imageUrl": "/images/illustrations/紫月昇り_transparent.png"
  },
  {
    "id": "紫毒蜂の女帝",
    "name": "紫毒蜂の女帝",
    "imageUrl": "/images/illustrations/紫毒蜂の女帝_transparent.png"
  },
  {
    "id": "絵画の幽霊",
    "name": "絵画の幽霊",
    "imageUrl": "/images/illustrations/絵画の幽霊_transparent.png"
  },
  {
    "id": "絶対神",
    "name": "絶対神",
    "imageUrl": "/images/illustrations/絶対神_transparent.png"
  },
  {
    "id": "絶望の招来",
    "name": "絶望の招来",
    "imageUrl": "/images/illustrations/絶望の招来_transparent.png"
  },
  {
    "id": "網罠",
    "name": "網罠",
    "imageUrl": "/images/illustrations/網罠_transparent.png"
  },
  {
    "id": "緊急発進台",
    "name": "緊急発進台",
    "imageUrl": "/images/illustrations/緊急発進台_transparent.png"
  },
  {
    "id": "緑の大地",
    "name": "緑の大地",
    "imageUrl": "/images/illustrations/緑の大地_transparent.png"
  },
  {
    "id": "緑化",
    "name": "緑化",
    "imageUrl": "/images/illustrations/緑化_transparent.png"
  },
  {
    "id": "縄刃投げ",
    "name": "縄刃投げ",
    "imageUrl": "/images/illustrations/縄刃投げ_transparent.png"
  },
  {
    "id": "縛り上げ",
    "name": "縛り上げ",
    "imageUrl": "/images/illustrations/縛り上げ_transparent.png"
  },
  {
    "id": "繁栄",
    "name": "繁栄",
    "imageUrl": "/images/illustrations/繁栄_transparent.png"
  },
  {
    "id": "繁茂する根",
    "name": "繁茂する根",
    "imageUrl": "/images/illustrations/繁茂する根_transparent.png"
  },
  {
    "id": "羊歯の魔物",
    "name": "羊歯の魔物",
    "imageUrl": "/images/illustrations/羊歯の魔物_transparent.png"
  },
  {
    "id": "翠の古代魚",
    "name": "翠の古代魚",
    "imageUrl": "/images/illustrations/翠の古代魚_transparent.png"
  },
  {
    "id": "翠鱗のパラサウロロフス",
    "name": "翠鱗のパラサウロロフス",
    "imageUrl": "/images/illustrations/翠鱗のパラサウロロフス_transparent.png"
  },
  {
    "id": "翼落とし",
    "name": "翼落とし",
    "imageUrl": "/images/illustrations/翼落とし_transparent.png"
  },
  {
    "id": "腐りスライム",
    "name": "腐りスライム",
    "imageUrl": "/images/illustrations/腐りスライム_transparent.png"
  },
  {
    "id": "腹ごしらえ",
    "name": "腹ごしらえ",
    "imageUrl": "/images/illustrations/腹ごしらえ_transparent.png"
  },
  {
    "id": "自律機シップマン",
    "name": "自律機シップマン",
    "imageUrl": "/images/illustrations/自律機シップマン_transparent.png"
  },
  {
    "id": "自律機パイルマン",
    "name": "自律機パイルマン",
    "imageUrl": "/images/illustrations/自律機パイルマン_transparent.png"
  },
  {
    "id": "自律機フォースマン",
    "name": "自律機フォースマン",
    "imageUrl": "/images/illustrations/自律機フォースマン_transparent.png"
  },
  {
    "id": "自立機カメラマン",
    "name": "自立機カメラマン",
    "imageUrl": "/images/illustrations/自立機カメラマン_transparent.png"
  },
  {
    "id": "自立機ジャンクマン",
    "name": "自立機ジャンクマン",
    "imageUrl": "/images/illustrations/自立機ジャンクマン_transparent.png"
  },
  {
    "id": "自立機スイッチマン",
    "name": "自立機スイッチマン",
    "imageUrl": "/images/illustrations/自立機スイッチマン_transparent.png"
  },
  {
    "id": "自立機タイヤマン",
    "name": "自立機タイヤマン",
    "imageUrl": "/images/illustrations/自立機タイヤマン_transparent.png"
  },
  {
    "id": "自立機トラックマン",
    "name": "自立機トラックマン",
    "imageUrl": "/images/illustrations/自立機トラックマン_transparent.png"
  },
  {
    "id": "自立機ファイアマン",
    "name": "自立機ファイアマン",
    "imageUrl": "/images/illustrations/自立機ファイアマン_transparent.png"
  },
  {
    "id": "自立機ラジコンマン",
    "name": "自立機ラジコンマン",
    "imageUrl": "/images/illustrations/自立機ラジコンマン_transparent.png"
  },
  {
    "id": "自走式裁断機",
    "name": "自走式裁断機",
    "imageUrl": "/images/illustrations/自走式裁断機_transparent.png"
  },
  {
    "id": "自走式貯水機",
    "name": "自走式貯水機",
    "imageUrl": "/images/illustrations/自走式貯水機_transparent.png"
  },
  {
    "id": "舞う尖晶石",
    "name": "舞う尖晶石",
    "imageUrl": "/images/illustrations/舞う尖晶石_transparent.png"
  },
  {
    "id": "船霊逆浪海域",
    "name": "船霊逆浪海域",
    "imageUrl": "/images/illustrations/船霊逆浪海域_transparent.png"
  },
  {
    "id": "色彩共鳴",
    "name": "色彩共鳴",
    "imageUrl": "/images/illustrations/色彩共鳴_transparent.png"
  },
  {
    "id": "艶めく風切羽",
    "name": "艶めく風切羽",
    "imageUrl": "/images/illustrations/艶めく風切羽_transparent.png"
  },
  {
    "id": "花禍の刺蜂",
    "name": "花禍の刺蜂",
    "imageUrl": "/images/illustrations/花禍の刺蜂_transparent.png"
  },
  {
    "id": "花禍の撃蜂",
    "name": "花禍の撃蜂",
    "imageUrl": "/images/illustrations/花禍の撃蜂_transparent.png"
  },
  {
    "id": "花禍の穿蜂",
    "name": "花禍の穿蜂",
    "imageUrl": "/images/illustrations/花禍の穿蜂_transparent.png"
  },
  {
    "id": "花華の縄張",
    "name": "花華の縄張",
    "imageUrl": "/images/illustrations/花華の縄張_transparent.png"
  },
  {
    "id": "花蜜蜂の女帝",
    "name": "花蜜蜂の女帝",
    "imageUrl": "/images/illustrations/花蜜蜂の女帝_transparent.png"
  },
  {
    "id": "苔のゴーレム",
    "name": "苔のゴーレム",
    "imageUrl": "/images/illustrations/苔のゴーレム_transparent.png"
  },
  {
    "id": "草の魔物",
    "name": "草の魔物",
    "imageUrl": "/images/illustrations/草の魔物_transparent.png"
  },
  {
    "id": "華乙女ベゴニア",
    "name": "華乙女ベゴニア",
    "imageUrl": "/images/illustrations/華乙女ベゴニア_transparent.png"
  },
  {
    "id": "落とし穴",
    "name": "落とし穴",
    "imageUrl": "/images/illustrations/落とし穴_transparent.png"
  },
  {
    "id": "落石",
    "name": "落石",
    "imageUrl": "/images/illustrations/落石_transparent.png"
  },
  {
    "id": "蒸気機関の古代機",
    "name": "蒸気機関の古代機",
    "imageUrl": "/images/illustrations/蒸気機関の古代機_transparent.png"
  },
  {
    "id": "蒼魚",
    "name": "蒼魚",
    "imageUrl": "/images/illustrations/蒼魚_transparent.png"
  },
  {
    "id": "藪蛇",
    "name": "藪蛇",
    "imageUrl": "/images/illustrations/藪蛇_transparent.png"
  },
  {
    "id": "蘇竜術",
    "name": "蘇竜術",
    "imageUrl": "/images/illustrations/蘇竜術_transparent.png"
  },
  {
    "id": "虚の財宝",
    "name": "虚の財宝",
    "imageUrl": "/images/illustrations/虚の財宝_transparent.png"
  },
  {
    "id": "蝿取草の魔物",
    "name": "蝿取草の魔物",
    "imageUrl": "/images/illustrations/蝿取草の魔物_transparent.png"
  },
  {
    "id": "融解",
    "name": "融解",
    "imageUrl": "/images/illustrations/融解_transparent.png"
  },
  {
    "id": "蟻司令官",
    "name": "蟻司令官",
    "imageUrl": "/images/illustrations/蟻司令官_transparent.png"
  },
  {
    "id": "蠢く墓場",
    "name": "蠢く墓場",
    "imageUrl": "/images/illustrations/蠢く墓場_transparent.png"
  },
  {
    "id": "血の鎌使い",
    "name": "血の鎌使い",
    "imageUrl": "/images/illustrations/血の鎌使い_transparent.png"
  },
  {
    "id": "裁きの日",
    "name": "裁きの日",
    "imageUrl": "/images/illustrations/裁きの日_transparent.png"
  },
  {
    "id": "裂爪のラプトル",
    "name": "裂爪のラプトル",
    "imageUrl": "/images/illustrations/裂爪のラプトル_transparent.png"
  },
  {
    "id": "補給物資",
    "name": "補給物資",
    "imageUrl": "/images/illustrations/補給物資_transparent.png"
  },
  {
    "id": "角笛",
    "name": "角笛",
    "imageUrl": "/images/illustrations/角笛_transparent.png"
  },
  {
    "id": "解体遊び",
    "name": "解体遊び",
    "imageUrl": "/images/illustrations/解体遊び_transparent.png"
  },
  {
    "id": "討伐依頼",
    "name": "討伐依頼",
    "imageUrl": "/images/illustrations/討伐依頼_transparent.png"
  },
  {
    "id": "詠唱魔方陣・奔流",
    "name": "詠唱魔方陣・奔流",
    "imageUrl": "/images/illustrations/詠唱魔方陣・奔流_transparent.png"
  },
  {
    "id": "詠唱魔方陣・野生",
    "name": "詠唱魔方陣・野生",
    "imageUrl": "/images/illustrations/詠唱魔方陣・野生_transparent.png"
  },
  {
    "id": "詠唱魔法陣・天翼",
    "name": "詠唱魔法陣・天翼",
    "imageUrl": "/images/illustrations/詠唱魔法陣・天翼_transparent.png"
  },
  {
    "id": "詠唱魔法陣・知識",
    "name": "詠唱魔法陣・知識",
    "imageUrl": "/images/illustrations/詠唱魔法陣・知識_transparent.png"
  },
  {
    "id": "誓いの天使",
    "name": "誓いの天使",
    "imageUrl": "/images/illustrations/誓いの天使_transparent.png"
  },
  {
    "id": "誤射",
    "name": "誤射",
    "imageUrl": "/images/illustrations/誤射_transparent.png"
  },
  {
    "id": "豊穣の女神",
    "name": "豊穣の女神",
    "imageUrl": "/images/illustrations/豊穣の女神_transparent.png"
  },
  {
    "id": "赤蛇",
    "name": "赤蛇",
    "imageUrl": "/images/illustrations/赤蛇_transparent.png"
  },
  {
    "id": "超爆発",
    "name": "超爆発",
    "imageUrl": "/images/illustrations/超爆発_transparent.png"
  },
  {
    "id": "超臨界",
    "name": "超臨界",
    "imageUrl": "/images/illustrations/超臨界_transparent.png"
  },
  {
    "id": "転換",
    "name": "転換",
    "imageUrl": "/images/illustrations/転換_transparent.png"
  },
  {
    "id": "軽魔法陣詠唱機",
    "name": "軽魔法陣詠唱機",
    "imageUrl": "/images/illustrations/軽魔法陣詠唱機_transparent.png"
  },
  {
    "id": "輝化",
    "name": "輝化",
    "imageUrl": "/images/illustrations/輝化_transparent.png"
  },
  {
    "id": "輪廻転生",
    "name": "輪廻転生",
    "imageUrl": "/images/illustrations/輪廻転生_transparent.png"
  },
  {
    "id": "轟雷",
    "name": "轟雷",
    "imageUrl": "/images/illustrations/轟雷_transparent.png"
  },
  {
    "id": "迸る尖晶石",
    "name": "迸る尖晶石",
    "imageUrl": "/images/illustrations/迸る尖晶石_transparent.png"
  },
  {
    "id": "追放",
    "name": "追放",
    "imageUrl": "/images/illustrations/追放_transparent.png"
  },
  {
    "id": "遺跡の護り手",
    "name": "遺跡の護り手",
    "imageUrl": "/images/illustrations/遺跡の護り手_transparent.png"
  },
  {
    "id": "還り門の森",
    "name": "還り門の森",
    "imageUrl": "/images/illustrations/還り門の森_transparent.png"
  },
  {
    "id": "還元",
    "name": "還元",
    "imageUrl": "/images/illustrations/還元_transparent.png"
  },
  {
    "id": "部隊指揮官",
    "name": "部隊指揮官",
    "imageUrl": "/images/illustrations/部隊指揮官_transparent.png"
  },
  {
    "id": "酒呑童子",
    "name": "酒呑童子",
    "imageUrl": "/images/illustrations/酒呑童子_transparent.png"
  },
  {
    "id": "酸性雨",
    "name": "酸性雨",
    "imageUrl": "/images/illustrations/酸性雨_transparent.png"
  },
  {
    "id": "金貨の悪魔",
    "name": "金貨の悪魔",
    "imageUrl": "/images/illustrations/金貨の悪魔_transparent.png"
  },
  {
    "id": "釣り人",
    "name": "釣り人",
    "imageUrl": "/images/illustrations/釣り人_transparent.png"
  },
  {
    "id": "釣果",
    "name": "釣果",
    "imageUrl": "/images/illustrations/釣果_transparent.png"
  },
  {
    "id": "鈍化",
    "name": "鈍化",
    "imageUrl": "/images/illustrations/鈍化_transparent.png"
  },
  {
    "id": "鉄鎧のアンキロ",
    "name": "鉄鎧のアンキロ",
    "imageUrl": "/images/illustrations/鉄鎧のアンキロ_transparent.png"
  },
  {
    "id": "銀翼のハーピー",
    "name": "銀翼のハーピー",
    "imageUrl": "/images/illustrations/銀翼のハーピー_transparent.png"
  },
  {
    "id": "銀雪の幼竜",
    "name": "銀雪の幼竜",
    "imageUrl": "/images/illustrations/銀雪の幼竜_transparent.png"
  },
  {
    "id": "銀雪の灰竜",
    "name": "銀雪の灰竜",
    "imageUrl": "/images/illustrations/銀雪の灰竜_transparent.png"
  },
  {
    "id": "銀雪の白竜",
    "name": "銀雪の白竜",
    "imageUrl": "/images/illustrations/銀雪の白竜_transparent.png"
  },
  {
    "id": "銀雪の蒼竜",
    "name": "銀雪の蒼竜",
    "imageUrl": "/images/illustrations/銀雪の蒼竜_transparent.png"
  },
  {
    "id": "銀雪夜",
    "name": "銀雪夜",
    "imageUrl": "/images/illustrations/銀雪夜_transparent.png"
  },
  {
    "id": "銅剣の騎士",
    "name": "銅剣の騎士",
    "imageUrl": "/images/illustrations/銅剣の騎士_transparent.png"
  },
  {
    "id": "鋸鮫",
    "name": "鋸鮫",
    "imageUrl": "/images/illustrations/鋸鮫_transparent.png"
  },
  {
    "id": "鋼翼の竜",
    "name": "鋼翼の竜",
    "imageUrl": "/images/illustrations/鋼翼の竜_transparent.png"
  },
  {
    "id": "錆のランタン",
    "name": "錆のランタン",
    "imageUrl": "/images/illustrations/錆のランタン_transparent.png"
  },
  {
    "id": "錆の海",
    "name": "錆の海",
    "imageUrl": "/images/illustrations/錆の海_transparent.png"
  },
  {
    "id": "鍵の精霊",
    "name": "鍵の精霊",
    "imageUrl": "/images/illustrations/鍵の精霊_transparent.png"
  },
  {
    "id": "鎧ゴブリン",
    "name": "鎧ゴブリン",
    "imageUrl": "/images/illustrations/鎧ゴブリン_transparent.png"
  },
  {
    "id": "開戦の日",
    "name": "開戦の日",
    "imageUrl": "/images/illustrations/開戦の日_transparent.png"
  },
  {
    "id": "開花",
    "name": "開花",
    "imageUrl": "/images/illustrations/開花_transparent.png"
  },
  {
    "id": "闇の誘惑",
    "name": "闇の誘惑",
    "imageUrl": "/images/illustrations/闇の誘惑_transparent.png"
  },
  {
    "id": "闇討ち",
    "name": "闇討ち",
    "imageUrl": "/images/illustrations/闇討ち_transparent.png"
  },
  {
    "id": "陽光の獅子",
    "name": "陽光の獅子",
    "imageUrl": "/images/illustrations/陽光の獅子_transparent.png"
  },
  {
    "id": "階級制度",
    "name": "階級制度",
    "imageUrl": "/images/illustrations/階級制度_transparent.png"
  },
  {
    "id": "集団戦法",
    "name": "集団戦法",
    "imageUrl": "/images/illustrations/集団戦法_transparent.png"
  },
  {
    "id": "雪女",
    "name": "雪女",
    "imageUrl": "/images/illustrations/雪女_transparent.png"
  },
  {
    "id": "雲のゴーレム",
    "name": "雲のゴーレム",
    "imageUrl": "/images/illustrations/雲のゴーレム_transparent.png"
  },
  {
    "id": "雷神",
    "name": "雷神",
    "imageUrl": "/images/illustrations/雷神_transparent.png"
  },
  {
    "id": "雷鳴の天馬",
    "name": "雷鳴の天馬",
    "imageUrl": "/images/illustrations/雷鳴の天馬_transparent.png"
  },
  {
    "id": "霊魂の世",
    "name": "霊魂の世",
    "imageUrl": "/images/illustrations/霊魂の世_transparent.png"
  },
  {
    "id": "霧中",
    "name": "霧中",
    "imageUrl": "/images/illustrations/霧中_transparent.png"
  },
  {
    "id": "青空ゴブリン",
    "name": "青空ゴブリン",
    "imageUrl": "/images/illustrations/青空ゴブリン_transparent.png"
  },
  {
    "id": "頑強な機兵",
    "name": "頑強な機兵",
    "imageUrl": "/images/illustrations/頑強な機兵_transparent.png"
  },
  {
    "id": "願いの泉",
    "name": "願いの泉",
    "imageUrl": "/images/illustrations/願いの泉_transparent.png"
  },
  {
    "id": "風化",
    "name": "風化",
    "imageUrl": "/images/illustrations/風化_transparent.png"
  },
  {
    "id": "風読みのハーピー",
    "name": "風読みのハーピー",
    "imageUrl": "/images/illustrations/風読みのハーピー_transparent.png"
  },
  {
    "id": "飛びナイフ",
    "name": "飛びナイフ",
    "imageUrl": "/images/illustrations/飛びナイフ_transparent.png"
  },
  {
    "id": "飛天の騎獣",
    "name": "飛天の騎獣",
    "imageUrl": "/images/illustrations/飛天の騎獣_transparent.png"
  },
  {
    "id": "飴玉の幽霊",
    "name": "飴玉の幽霊",
    "imageUrl": "/images/illustrations/飴玉の幽霊_transparent.png"
  },
  {
    "id": "鬼火",
    "name": "鬼火",
    "imageUrl": "/images/illustrations/鬼火_transparent.png"
  },
  {
    "id": "魂の共鳴",
    "name": "魂の共鳴",
    "imageUrl": "/images/illustrations/魂の共鳴_transparent.png"
  },
  {
    "id": "魂の復元",
    "name": "魂の復元",
    "imageUrl": "/images/illustrations/魂の復元_transparent.png"
  },
  {
    "id": "魂宿りの巨剣",
    "name": "魂宿りの巨剣",
    "imageUrl": "/images/illustrations/魂宿りの巨剣_transparent.png"
  },
  {
    "id": "魔力の小瓶",
    "name": "魔力の小瓶",
    "imageUrl": "/images/illustrations/魔力の小瓶_transparent.png"
  },
  {
    "id": "魔力の盃",
    "name": "魔力の盃",
    "imageUrl": "/images/illustrations/魔力の盃_transparent.png"
  },
  {
    "id": "魔力炉",
    "name": "魔力炉",
    "imageUrl": "/images/illustrations/魔力炉_transparent.png"
  },
  {
    "id": "魔法陣詠唱機",
    "name": "魔法陣詠唱機",
    "imageUrl": "/images/illustrations/魔法陣詠唱機_transparent.png"
  },
  {
    "id": "魔石の精霊",
    "name": "魔石の精霊",
    "imageUrl": "/images/illustrations/魔石の精霊_transparent.png"
  },
  {
    "id": "魔石の詠唱師",
    "name": "魔石の詠唱師",
    "imageUrl": "/images/illustrations/魔石の詠唱師_transparent.png"
  },
  {
    "id": "魔石を統べる精霊王",
    "name": "魔石を統べる精霊王",
    "imageUrl": "/images/illustrations/魔石を統べる精霊王_transparent.png"
  },
  {
    "id": "魔術書",
    "name": "魔術書",
    "imageUrl": "/images/illustrations/魔術書_transparent.png"
  },
  {
    "id": "魔術書庫",
    "name": "魔術書庫",
    "imageUrl": "/images/illustrations/魔術書庫_transparent.png"
  },
  {
    "id": "魔風のハーピー",
    "name": "魔風のハーピー",
    "imageUrl": "/images/illustrations/魔風のハーピー_transparent.png"
  },
  {
    "id": "魚群魔法陣",
    "name": "魚群魔法陣",
    "imageUrl": "/images/illustrations/魚群魔法陣_transparent.png"
  },
  {
    "id": "鮮赤の不死鳥",
    "name": "鮮赤の不死鳥",
    "imageUrl": "/images/illustrations/鮮赤の不死鳥_transparent.png"
  },
  {
    "id": "鳥飼いの魔女",
    "name": "鳥飼いの魔女",
    "imageUrl": "/images/illustrations/鳥飼いの魔女_transparent.png"
  },
  {
    "id": "鵺",
    "name": "鵺",
    "imageUrl": "/images/illustrations/鵺_transparent.png"
  },
  {
    "id": "黄金蟹",
    "name": "黄金蟹",
    "imageUrl": "/images/illustrations/黄金蟹_transparent.png"
  },
  {
    "id": "黎明の天使",
    "name": "黎明の天使",
    "imageUrl": "/images/illustrations/黎明の天使_transparent.png"
  },
  {
    "id": "黒い花",
    "name": "黒い花",
    "imageUrl": "/images/illustrations/黒い花_transparent.png"
  }
];
        // カードIDをキーにしたマップを作成 (検索用)
        const cardDataMap = new Map(DUMMY_CARD_DATA.map(card => [card.id, card]));


        // --- DOM要素 ---
        const $ = (selector) => document.querySelector(selector);
        const $$ = (selector) => document.querySelectorAll(selector);

        const loadingEl = $("#loading");
        const roomSetupEl = $("#room-setup");
        const draftRoomEl = $("#draft-room");
        
        const userNameInput = $("#user-name");
        const createRoomBtn = $("#create-room-btn");
        const joinRoomBtn = $("#join-room-btn");
        const roomIdInput = $("#room-id-input");

        const roomStatusText = $("#room-status-text");
        const roomUrlDisplay = $("#room-url-display");
        const roomUrlInput = $("#room-url-input");
        const copyUrlBtn = $("#copy-url-btn");
        const copyMessage = $("#copy-message");

        // v5: ホスト設定
        const maxPicksDisplay = $("#max-picks-display");
        const timeLimitDisplay = $("#time-limit-display");
        const hostControlsEl = $("#host-controls");
        const draftSettingsEl = $("#draft-settings");
        const maxPicksInput = $("#max-picks-input");
        const timeLimitInput = $("#time-limit-input");

        const startDraftBtn = $("#start-draft-btn");
        const participantCountSpan = $("#participant-count");
        const revealCardsBtn = $("#reveal-cards-btn");
        const executeLottoBtn = $("#execute-lotto-btn");
        const nextPickBtn = $("#next-pick-btn");
        const endDraftBtn = $("#end-draft-btn");

        const myNameEl = $("#my-name");
        const myStatusEl = $("#my-status");
        // v5: タイマー
        const pickTimerDisplayEl = $("#pick-timer-display");
        const timerCountdownEl = $("#timer-countdown");

        const mySelectedCardEl = $("#my-selected-card");
        const openCardPickerBtn = $("#open-card-picker-btn");
        const myAcquiredCardsEl = $("#my-acquired-cards");

        const participantsGridEl = $("#participants-grid");
        const draftBoardContainerEl = $("#draft-board-container");
        const cardPoolCountEl = $("#card-pool-count");
        const poolSearchInput = $("#pool-search");
        const cardPoolListEl = $("#card-pool-list");

        const cardPickerModalEl = $("#card-picker-modal");
        const closeCardPickerBtn = $("#close-card-picker-btn");
        const cardSearchInput = $("#card-search-input");
        const cardListEl = $("#card-list");
        const confirmSelectionBtn = $("#confirm-selection-btn");

        const messageBoxEl = $("#message-box");
        const messageTextEl = $("#message-text");

        // --- 初期化 ---
        document.addEventListener('DOMContentLoaded', () => {
            // TODO: 自分のFirebaseプロジェクトの設定に書き換えてください。
            const firebaseConfig = {
  apiKey: "AIzaSyBQTAg9UosqFyqixNXPeNBndZXF4cqkw2k",
  authDomain: "anokoro-draft-app.firebaseapp.com",
  projectId: "anokoro-draft-app",
  storageBucket: "anokoro-draft-app.firebasestorage.app",
  messagingSenderId: "380768118987",
  appId: "1:380768118987:web:1e880a9faa7207a942d34e"
};

            // Firebase設定がダミーのままなら警告
            if (firebaseConfig.apiKey === "YOUR_API_KEY") {
                console.error("Firebaseの初期化設定が必要です。firebaseConfigを実際の値に書き換えてください。");
                loadingEl.innerHTML = `
                    <div class="text-center p-4 bg-red-100 border-l-4 border-red-500 text-red-700 rounded-lg shadow-md">
                        <h3 class="font-bold text-xl mb-2">Firebase 設定エラー</h3>
                        <p>index.html内の <code>firebaseConfig</code> を<br>あなたのFirebaseプロジェクトの値に書き換えてください。</p>
                    </div>
                `;
                return;
            }

            // Firebaseアプリの初期化
            const app = initializeApp(firebaseConfig);
            auth = getAuth(app);
            db = getFirestore(app);

            handleAuthentication();
            setupHostSettingsListeners();
        });

        // --- 認証処理 ---
        function handleAuthentication() {
            onAuthStateChanged(auth, (user) => {
                if (user) {
                    console.log("匿名認証成功:", user.uid);
                    currentUserId = user.uid;
                    // URLからルームIDをチェック
                    const urlParams = new URLSearchParams(window.location.search);
                    const roomIdFromUrl = urlParams.get('room');
                    
                    if (roomIdFromUrl) {
                        // URLにIDあり -> 参加試行
                        currentRoomId = roomIdFromUrl;
                        showRoomSetup(true);
                    } else {
                        // URLにIDなし -> ホストとして作成可能
                        showRoomSetup(false);
                    }
                } else {
                    console.log("匿名認証サインイン中...");
                    signInAnonymously(auth).catch((error) => {
                        console.error("匿名認証失敗:", error);
                        loadingEl.innerHTML = `<p class="text-red-500">認証に失敗しました。ページをリロードしてください。</p>`;
                    });
                }
            });
        }

        // --- UI表示切り替え ---
        function showRoomSetup(isJoining) {
            loadingEl.classList.add("hidden");
            roomSetupEl.classList.remove("hidden");
            if (isJoining) {
                roomIdInput.value = currentRoomId;
                userNameInput.focus();
            } else {
                createRoomBtn.focus();
            }
        }

        function showDraftRoom() {
            roomSetupEl.classList.add("hidden");
            draftRoomEl.classList.remove("hidden");
            loadingEl.classList.add("hidden");
        }

        // --- メッセージ表示 ---
        function showMessage(text, type = 'info') {
            messageTextEl.textContent = text;
            messageBoxEl.classList.remove('hidden', 'translate-x-full', 'border-blue-500', 'border-green-500', 'border-red-500');
            
            if (type === 'success') {
                messageBoxEl.classList.add('border-green-500');
            } else if (type === 'error') {
                messageBoxEl.classList.add('border-red-500');
            } else {
                messageBoxEl.classList.add('border-blue-500');
            }

            messageBoxEl.classList.remove('translate-x-full');
            
            setTimeout(() => {
                messageBoxEl.classList.add('translate-x-full');
            }, 3000);
        }

        // --- ルーム作成・参加ロジック ---

        createRoomBtn.addEventListener("click", async () => {
            const userName = userNameInput.value.trim();
            if (!userName) {
                showMessage("名前を入力してください。", "error");
                return;
            }

            isHost = true;
            try {
                // 新しいルームドキュメントを作成
                const roomRef = await addDoc(collection(db, "rooms"), {
                    hostId: currentUserId,
                    status: "waiting", // waiting | drafting | finished
                    currentRound: 1,
                    currentPick: 1,
                    draftPool: DUMMY_CARD_DATA.map(card => card.id), // カードプールの初期化
                    createdAt: serverTimestamp(),
                    // v5: ドラフト設定のデフォルト値
                    maxPicks: 20,
                    timeLimitSeconds: 60,
                    pickStartTime: null // タイマー開始時刻
                });

                currentRoomId = roomRef.id;
                console.log("ルーム作成:", currentRoomId);

                // 参加者サブコレクションにホストを追加
                await addParticipant(currentRoomId, currentUserId, userName, true);

                // URLを更新してリスナー設定
                updateUrlAndListen(currentRoomId);
                
            } catch (error) {
                console.error("ルーム作成エラー:", error);
                showMessage("ルームの作成に失敗しました。", "error");
            }
        });

        joinRoomBtn.addEventListener("click", async () => {
            const userName = userNameInput.value.trim();
            const roomId = roomIdInput.value.trim();

            if (!userName) {
                showMessage("名前を入力してください。", "error");
                return;
            }
            if (!roomId) {
                showMessage("ロビーIDを入力してください。", "error");
                return;
            }

            try {
                // ルームの存在確認
                const roomRef = doc(db, "rooms", roomId);
                const roomSnap = await getDoc(roomRef);

                if (!roomSnap.exists()) {
                    showMessage("ロビーが見つかりません。", "error");
                    return;
                }

                // 既に参加していないか確認
                const participantRef = doc(db, "rooms", roomId, "participants", currentUserId);
                const participantSnap = await getDoc(participantRef);

                if (participantSnap.exists()) {
                    console.log("再接続:", participantSnap.data().name);
                } else {
                    // 新規参加
                    if (roomSnap.data().status !== 'waiting') {
                        showMessage("このドラフト会議は既に開始されています。", "error");
                        return;
                    }
                    await addParticipant(roomId, currentUserId, userName, false);
                }

                currentRoomId = roomId;
                isHost = (roomSnap.data().hostId === currentUserId);
                updateUrlAndListen(roomId);

            } catch (error) {
                console.error("ルーム参加エラー:", error);
                showMessage("ルームへの参加に失敗しました。", "error");
            }
        });

        // 参加者ドキュメント追加
        async function addParticipant(roomId, userId, userName, isHost) {
            const participantRef = doc(db, "rooms", roomId, "participants", userId);
            await setDoc(participantRef, {
                name: userName,
                isHost: isHost,
                status: "waiting", // waiting | selecting | selected | waiting_next_pick
                selectedCardId: null,
                selectionHistory: [], // { round, pick, cardId, status: 'acquired' | 'lost_lotto' }
                acquiredCards: [] // 獲得したカードIDの配列
            });
        }

        // URLを更新し、Firestoreのリスナーを開始
        function updateUrlAndListen(roomId) {
            const newUrl = `${window.location.pathname}?room=${roomId}`;
            window.history.pushState({ path: newUrl }, '', newUrl);
            
            showDraftRoom();
            
            // ルーム情報のリアルタイム監視
            listenToRoom(roomId);
            // 参加者情報のリアルタイム監視
            listenToParticipants(roomId);

            if (isHost) {
                roomUrlDisplay.classList.remove('hidden');
                roomUrlDisplay.classList.add('flex');
                roomUrlInput.value = window.location.href;
            }
        }

        // --- URLコピー機能 ---
        copyUrlBtn.addEventListener("click", () => {
            roomUrlInput.select();
            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    copyMessage.textContent = 'コピーしました！';
                    setTimeout(() => { copyMessage.textContent = ''; }, 2000);
                } else { throw new Error(); }
            } catch (err) {
                copyMessage.textContent = 'コピーに失敗しました';
            }
            window.getSelection().removeAllRanges(); // 選択解除
        });


        // --- Firestore リアルタイムリスナー ---

        let localRoomData = null;
        let localParticipantsData = [];

        // ルーム情報（全体設定）の監視
        function listenToRoom(roomId) {
            if (roomUnsubscribe) roomUnsubscribe(); // 古いリスナーを解除

            const roomRef = doc(db, "rooms", roomId);
            roomUnsubscribe = onSnapshot(roomRef, (docSnap) => {
                if (!docSnap.exists()) {
                    console.error("ルームが見つかりません。");
                    showMessage("ルームが削除されたか、存在しません。", "error");
                    draftRoomEl.innerHTML = `<p class="text-red-500 text-center text-xl mt-10">ルームが削除されました。ページをリロードしてください。</p>`;
                    return;
                }
                
                localRoomData = docSnap.data();
                console.log("Room Data Updated:", localRoomData);
                updateRoomUI(localRoomData);
                updateCardPoolUI(localRoomData.draftPool);
            }, (error) => {
                console.error("ルーム監視エラー:", error);
            });
        }

        // 参加者情報（全員）の監視
        function listenToParticipants(roomId) {
            if (participantsUnsubscribe) participantsUnsubscribe(); // 古いリスナーを解除

            const participantsRef = collection(db, "rooms", roomId, "participants");
            participantsUnsubscribe = onSnapshot(participantsRef, (querySnapshot) => {
                localParticipantsData = [];
                querySnapshot.forEach((doc) => {
                    localParticipantsData.push({ id: doc.id, ...doc.data() });
                });
                
                console.log("Participants Data Updated:", localParticipantsData);
                updateParticipantsUI(localParticipantsData);
                updateMyStatusUI(localParticipantsData); // タイマーロジックも含む
                updateDraftBoardUI(localParticipantsData, localRoomData?.currentRound ?? 1);
                
                // ホストコントロールの更新（全員の準備ができたかなど）
                if (isHost && localRoomData) {
                    updateHostControls(localRoomData, localParticipantsData);
                }

            }, (error) => {
                console.error("参加者監視エラー:", error);
            });
        }


        // --- UI更新関数 ---

        // ルーム全体のUI更新
        function updateRoomUI(roomData) {
            const { status, currentRound, currentPick, maxPicks, timeLimitSeconds } = roomData;
            let statusMessage = "";

            switch (status) {
                case "waiting":
                    statusMessage = "参加者待機中...";
                    break;
                case "drafting":
                    const pickingUsers = localParticipantsData
                        .filter(p => p.status === 'selecting')
                        .map(p => p.name)
                        .join(", ");
                    
                    if (pickingUsers) {
                        statusMessage = `R${currentRound} - ${currentPick}巡目 | ${pickingUsers} が選択中`;
                    } else if (localParticipantsData.some(p => p.status === 'selected')) {
                        statusMessage = `R${currentRound} - ${currentPick}巡目 | 全員選択済み (ホスト開示待ち)`;
                    } else if (localParticipantsData.some(p => p.status === 'conflict')) {
                         statusMessage = `R${currentRound} - ${currentPick}巡目 | 指名重複 (ホスト抽選待ち)`;
                    } else {
                         statusMessage = `R${currentRound} - ${currentPick}巡目 | 巡目終了 (ホスト進行待ち)`;
                    }
                    break;
                case "finished":
                    statusMessage = "ドラフト会議 終了";
                    break;
            }
            roomStatusText.textContent = statusMessage;

            // v5: ドラフト設定を全参加者に表示
            maxPicksDisplay.textContent = maxPicks;
            timeLimitDisplay.textContent = timeLimitSeconds > 0 ? timeLimitSeconds : "無制限";

            // v5: ホストの設定入力欄を更新
            if (isHost) {
                maxPicksInput.value = maxPicks;
                timeLimitInput.value = timeLimitSeconds;
                
                // ドラフト中は設定を無効化
                const isDrafting = status === 'drafting' || status === 'finished';
                maxPicksInput.disabled = isDrafting;
                timeLimitInput.disabled = isDrafting;
                if(isDrafting) {
                    draftSettingsEl.classList.add("opacity-60");
                } else {
                    draftSettingsEl.classList.remove("opacity-60");
                }
            }
        }

        // カードプール（残りカード）のUI更新
        function updateCardPoolUI(draftPoolIds) {
            cardPoolCountEl.textContent = draftPoolIds.length;
            
            // 検索フィルタリング
            const searchTerm = poolSearchInput.value.toLowerCase();
            const filteredPool = draftPoolIds
                .map(id => cardDataMap.get(id))
                .filter(card => card && card.name.toLowerCase().includes(searchTerm));

            cardPoolListEl.innerHTML = "";
            filteredPool.forEach(card => {
                cardPoolListEl.innerHTML += `
                    <div classT="text-sm p-2 bg-gray-50 border rounded-md shadow-sm truncate" title="${card.name}">
                        ${card.name}
                    </div>
                `;
            });
        }
        // プール検索入力イベント
        poolSearchInput.addEventListener("input", () => {
            if (localRoomData) {
                updateCardPoolUI(localRoomData.draftPool);
            }
        });

        // 参加者グリッドのUI更新
        function updateParticipantsUI(participants) {
            participantsGridEl.innerHTML = "";
            participants.sort((a, b) => a.name.localeCompare(b.name)); // 名前順ソート

            participants.forEach(p => {
                let statusText = "";
                let statusClass = "";

                const selectionResult = p.selectionHistory.find(h => h.round === localRoomData?.currentRound && h.pick === localRoomData?.currentPick)?.status;

                if (localRoomData?.status === 'waiting') {
                    statusText = "待機中";
                    statusClass = "status-waiting";
                } else if (selectionResult === 'unique' || selectionResult === 'won_lotto') {
                    statusText = "獲得確定";
                    statusClass = selectionResult === 'unique' ? "status-unique" : "status-won_lotto";
                } else if (selectionResult === 'conflict' || selectionResult === 'lost_lotto') {
                     statusText = "抽選待ち/失敗";
                     statusClass = selectionResult === 'conflict' ? "status-conflict" : "status-lost_lotto";
                } else if (p.status === 'selecting') {
                    statusText = "選択中...";
                    statusClass = "status-selecting";
                } else if (p.status === 'selected' && p.selectedCardId === null) {
                    statusText = "パス"; // v5: 時間切れなどで未選択
                    statusClass = "status-lost_lotto";
                } else if (p.status === 'selected') {
                    statusText = "選択済み";
                    statusClass = "status-selected";
                } else if (p.status === 'waiting_next_pick') {
                    statusText = "次巡待機";
                    statusClass = "status-waiting";
                } else {
                    statusText = p.status;
                    statusClass = "status-waiting";
                }


                participantsGridEl.innerHTML += `
                    <div class="${statusClass} border-2 rounded-lg p-3 text-center shadow-sm transition-all duration-300">
                        <span class="font-semibold block truncate" title="${p.name}">
                            ${p.name} ${p.isHost ? '(H)' : ''}
                        </span>
                        <span class="text-sm text-gray-700 font-medium">${statusText}</span>
                    </div>
                `;
            });
        }

        // 自分のステータスUI更新 (タイマーロジック含む)
        function updateMyStatusUI(participants) {
            const me = participants.find(p => p.id === currentUserId);
            if (!me) return;

            myNameEl.textContent = me.name;
            
            // 自分の状態表示
            const historyEntry = me.selectionHistory.find(h => h.round === localRoomData?.currentRound && h.pick === localRoomData?.currentPick);
            let myStatusText = "";

            if (localRoomData?.status === 'waiting') {
                myStatusText = "待機中";
            } else if (historyEntry?.status === 'acquired') {
                myStatusText = "獲得確定 (次巡待機)";
            } else if (historyEntry?.status === 'lost_lotto') {
                myStatusText = "抽選敗北 (再選択)";
            } else if (me.status === 'selecting') {
                myStatusText = "あなたの番です: カードを選択してください";
            } else if (me.status === 'selected' && me.selectedCardId === null) {
                myStatusText = "パスしました (ホスト開示待ち)";
            } else if (me.status === 'selected') {
                myStatusText = "選択済み (ホストの開示待ち)";
            } else if (me.status === 'waiting_next_pick') {
                myStatusText = "獲得確定 (次巡待機)";
            } else {
                myStatusText = me.status;
            }
            myStatusEl.textContent = myStatusText;

            // 自分の選択中カード表示
            if (me.selectedCardId) {
                const card = cardDataMap.get(me.selectedCardId);
                mySelectedCardEl.textContent = card ? card.name : "不明なカード";
                mySelectedCardEl.classList.remove("text-gray-700");
                mySelectedCardEl.classList.add("text-gray-900", "font-semibold");
            } else if (me.status === 'selected') {
                mySelectedCardEl.textContent = "パス (未選択)";
                mySelectedCardEl.classList.add("text-gray-700");
                mySelectedCardEl.classList.remove("text-gray-900", "font-semibold");
            } else {
                mySelectedCardEl.textContent = "未選択";
                mySelectedCardEl.classList.add("text-gray-700");
                mySelectedCardEl.classList.remove("text-gray-900", "font-semibold");
            }

            // カード選択ボタンの制御
            if (me.status === 'selecting' && localRoomData?.status === 'drafting') {
                openCardPickerBtn.disabled = false;
                openCardPickerBtn.textContent = "カードを選択する";
            } else if (me.status === 'selected' && localRoomData?.status === 'drafting') {
                openCardPickerBtn.disabled = false;
                openCardPickerBtn.textContent = "選択を変更する";
            } else {
                openCardPickerBtn.disabled = true;
                openCardPickerBtn.textContent = "選択できません";
            }

            // v5: タイマー処理
            handlePickTimer(localRoomData, me);

            // 自分の獲得カードリスト
            myAcquiredCardsEl.innerHTML = "";
            me.selectionHistory
                .filter(h => h.status === 'acquired')
                .sort((a, b) => a.round - b.round || a.pick - b.pick) // ラウンド・巡目順
                .forEach(h => {
                    const card = cardDataMap.get(h.cardId);
                    myAcquiredCardsEl.innerHTML += `
                        <li class="text-sm p-2 bg-gray-50 rounded" title="${card?.name ?? '不明'}">
                            <span class="font-semibold">(R${h.round}-P${h.pick})</span> ${card?.name ?? '不明なカード'}
                        </li>
                    `;
                });
        }

        // 全体ドラフトボードのUI更新
        function updateDraftBoardUI(participants, maxRound) {
            draftBoardContainerEl.innerHTML = "";
            if (participants.length === 0 || localRoomData?.status === 'waiting') {
                draftBoardContainerEl.innerHTML = `<p class="text-gray-500">ドラフト開始前です。</p>`;
                return;
            }

            let table = `<table class="min-w-full divide-y divide-gray-200 border border-gray-300 rounded-lg">`;
            table += `<thead class="bg-gray-100"><tr>`;
            table += `<th class="px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">参加者</th>`;
            
            const rounds = Math.max(localRoomData?.maxPicks ?? 1, maxRound, ...participants.flatMap(p => p.selectionHistory.map(h => h.round)));
            
            for (let r = 1; r <= rounds; r++) {
                 table += `<th class="px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">R${r}</th>`;
            }
            table += `</tr></thead><tbody class="bg-white divide-y divide-gray-200">`;

            participants.sort((a, b) => a.name.localeCompare(b.name)); // 名前順

            participants.forEach(p => {
                table += `<tr>`;
                table += `<td class="px-4 py-3 whitespace-nowrap font-medium text-gray-900">${p.name}</td>`;
                
                for (let r = 1; r <= rounds; r++) {
                    // このラウンドで獲得したカード (複数の巡目がありうる)
                    const acquiredInRound = p.selectionHistory
                        .filter(h => h.round === r && h.status === 'acquired')
                        .map(h => cardDataMap.get(h.cardId)?.name ?? '不明')
                        .join(", ");
                        
                    table += `<td class="px-4 py-3 whitespace-nowrap text-sm text-gray-700">${acquiredInRound || '-'}</td>`;
                }
                table += `</tr>`;
            });

            table += `</tbody></table>`;
            draftBoardContainerEl.innerHTML = table;
        }

        // ホストコントロールのUI更新
        function updateHostControls(roomData, participants) {
            const { status, currentRound, currentPick } = roomData;
            
            // 全員
            const allParticipants = participants;
            // 現在の巡目で選択対象の人 (抽選漏れした人など)
            const selectingParticipants = participants.filter(p => p.status === 'selecting');
            // 選択済みの人
            const selectedParticipants = participants.filter(p => p.status === 'selected');
            // 指名が重複している人
            const conflictParticipants = participants.filter(p => 
                p.selectionHistory.some(h => h.round === currentRound && h.pick === currentPick && h.status === 'conflict')
            );

            // 待機中
            if (status === 'waiting') {
                hostControlsEl.classList.remove("hidden");
                startDraftBtn.classList.remove("hidden");
                revealCardsBtn.classList.add("hidden");
                executeLottoBtn.classList.add("hidden");
                nextPickBtn.classList.add("hidden");
                endDraftBtn.classList.add("hidden");

                participantCountSpan.textContent = allParticipants.length;
                // v6: 4人制限を解除し、常に開始できるように変更
                startDraftBtn.disabled = false; 
                startDraftBtn.title = ""; // 常に有効なため、titleもリセット
            }
            // ドラフト中
            else if (status === 'drafting') {
                hostControlsEl.classList.remove("hidden");
                startDraftBtn.classList.add("hidden");
                endDraftBtn.classList.remove("hidden");

                // 1. 選択中フェーズ
                if (selectingParticipants.length > 0) {
                    revealCardsBtn.classList.remove("hidden");
                    revealCardsBtn.disabled = true; // まだ全員選択していない
                    revealCardsBtn.textContent = `カード一斉開示 (${selectedParticipants.length}/${selectingParticipants.length + selectedParticipants.length})`;
                    
                    executeLottoBtn.classList.add("hidden");
                    nextPickBtn.classList.add("hidden");
                }
                // 2. 開示待ちフェーズ (全員選択済み)
                else if (selectingParticipants.length === 0 && selectedParticipants.length > 0) {
                    revealCardsBtn.classList.remove("hidden");
                    revealCardsBtn.disabled = false;
                    revealCardsBtn.textContent = `カードを一斉開示する`;
                    
                    executeLottoBtn.classList.add("hidden");
                    nextPickBtn.classList.add("hidden");
                }
                // 3. 抽選待ちフェーズ (開示済み、重複あり)
                else if (conflictParticipants.length > 0) {
                    revealCardsBtn.classList.add("hidden");
                    executeLottoBtn.classList.remove("hidden");
                    executeLottoBtn.disabled = false;
                    nextPickBtn.classList.add("hidden");
                }
                // 4. 巡目終了フェーズ (全員の処遇決定済み)
                else if (selectingParticipants.length === 0 && selectedParticipants.length === 0 && conflictParticipants.length === 0) {
                    revealCardsBtn.classList.add("hidden");
                    executeLottoBtn.classList.add("hidden");
                    nextPickBtn.classList.remove("hidden");
                    nextPickBtn.disabled = false;
                }
            }
            // 終了
            else if (status === 'finished') {
                hostControlsEl.classList.add("hidden");
            }
        }


        // --- カードピッカー (モーダル) ---
        let selectedCardIdInPicker = null;
        
        // モーダルを開く
        openCardPickerBtn.addEventListener("click", () => {
            if (openCardPickerBtn.disabled) return;
            selectedCardIdInPicker = null; // リセット
            confirmSelectionBtn.disabled = true;
            cardSearchInput.value = "";
            
            updateCardPickerList(); // リスト更新
            cardPickerModalEl.classList.remove("hidden");
        });

        // モーダルを閉じる
        closeCardPickerBtn.addEventListener("click", () => {
            cardPickerModalEl.classList.add("hidden");
        });

        // カードリストの更新 (検索対応)
        function updateCardPickerList() {
            const searchTerm = cardSearchInput.value.toLowerCase();
            const pool = localRoomData?.draftPool ?? [];
            
            const availableCards = DUMMY_CARD_DATA
                .filter(card => pool.includes(card.id)) // プールにあるもののみ
                .filter(card => card.name.toLowerCase().includes(searchTerm)); // 検索
            
            cardListEl.innerHTML = "";
            availableCards.forEach(card => {
                const isSelected = selectedCardIdInPicker === card.id;
                
                // v4: imgタグと関連クラスを削除し、シンプルなリストに変更
                cardListEl.innerHTML += `
                    <div class="card-list-item flex items-center p-4 border-2 rounded-lg cursor-pointer transition ${isSelected ? 'border-blue-500 bg-blue-100' : 'border-gray-200 hover:bg-gray-50'}" data-card-id="${card.id}">
                        <span class="font-semibold text-lg text-gray-900">${card.name}</span>
                    </div>
                `;
            });

            // リスト内のカードクリックイベント
            $$(".card-list-item").forEach(item => {
                item.addEventListener("click", () => {
                    // 他の選択を解除
                    $$(".card-list-item").forEach(el => el.classList.remove("border-blue-500", "bg-blue-100"));
                    
                    // クリックしたものを選択
                    item.classList.add("border-blue-500", "bg-blue-100");
                    selectedCardIdInPicker = item.dataset.cardId;
                    confirmSelectionBtn.disabled = false;
                });
            });
        }

        // カード検索入力イベント
        cardSearchInput.addEventListener("input", updateCardPickerList);

        // 決定ボタン
        confirmSelectionBtn.addEventListener("click", async () => {
            if (!selectedCardIdInPicker || !currentRoomId || !currentUserId) return;

            try {
                const participantRef = doc(db, "rooms", currentRoomId, "participants", currentUserId);
                await updateDoc(participantRef, {
                    selectedCardId: selectedCardIdInPicker,
                    status: "selected"
                });
                
                showMessage("カードを選択しました。", "success");
                cardPickerModalEl.classList.add("hidden");

            } catch (error) {
                console.error("カード選択エラー:", error);
                showMessage("カード選択の保存に失敗しました。", "error");
            }
        });


        // --- v5: タイマー処理 ---
        function handlePickTimer(roomData, me) {
            // 他の人のターンならタイマークリア
            if (me.status !== 'selecting' || roomData.status !== 'drafting') {
                if (pickTimeout) clearTimeout(pickTimeout);
                if (pickInterval) clearInterval(pickInterval);
                pickTimerDisplayEl.classList.add("hidden");
                return;
            }

            const timeLimit = roomData.timeLimitSeconds;
            // 時間無制限
            if (timeLimit <= 0) {
                pickTimerDisplayEl.classList.add("hidden");
                return;
            }

            // pickStartTime (サーバー時刻) を基準にする
            if (!roomData.pickStartTime || !roomData.pickStartTime.toDate) {
                console.log("タイマー待機中 (pickStartTime未設定)");
                return;
            }

            const startTime = roomData.pickStartTime.toDate().getTime();
            const endTime = startTime + timeLimit * 1000;

            // --- 既存のタイマーをクリア ---
            if (pickTimeout) clearTimeout(pickTimeout);
            if (pickInterval) clearInterval(pickInterval);
            // --- ----------------------- ---
            
            pickTimerDisplayEl.classList.remove("hidden");

            const updateTimerDisplay = () => {
                const now = Date.now();
                const remaining = Math.max(0, endTime - now);
                const remainingSeconds = Math.ceil(remaining / 1000);
                
                timerCountdownEl.textContent = remainingSeconds.toString().padStart(2, '0');

                if (remaining <= 0) {
                    clearInterval(pickInterval);
                }
            };

            // 時間切れで自動パス (selectedCardId: null)
            const timeRemainingForTimeout = endTime - Date.now();
            if (timeRemainingForTimeout <= 0) {
                // すでに時間切れ
                autoPassSelection();
            } else {
                updateTimerDisplay(); // 1回目の描画
                pickInterval = setInterval(updateTimerDisplay, 1000); // 描画更新タイマー
                pickTimeout = setTimeout(autoPassSelection, timeRemainingForTimeout); // 時間切れ処理タイマー
            }
        }

        async function autoPassSelection() {
            // me がまだ 'selecting' 状態か再確認
            const me = localParticipantsData.find(p => p.id === currentUserId);
            if (!me || me.status !== 'selecting') {
                return; // 既に選択済み
            }
            
            console.log("時間切れ: 自動パスします。");
            showMessage("時間切れです。自動的にパスしました。", "error");
            
            try {
                const participantRef = doc(db, "rooms", currentRoomId, "participants", currentUserId);
                await updateDoc(participantRef, {
                    selectedCardId: null, // パス
                    status: "selected"
                });
                cardPickerModalEl.classList.add("hidden"); // モーダルを閉じる
            } catch (error) {
                console.error("自動パス処理エラー:", error);
            }
        }


        // --- ホスト操作 ---

        // v5: ホスト設定のリスナー
        function setupHostSettingsListeners() {
            maxPicksInput.addEventListener("change", (e) => {
                if (!isHost || !currentRoomId) return;
                const value = parseInt(e.target.value) || 20;
                updateDoc(doc(db, "rooms", currentRoomId), { maxPicks: value });
            });
            
            timeLimitInput.addEventListener("change", (e) => {
                if (!isHost || !currentRoomId) return;
                const value = parseInt(e.target.value) || 60;
                updateDoc(doc(db, "rooms", currentRoomId), { timeLimitSeconds: value });
            });
        }

        // ドラフト開始
        startDraftBtn.addEventListener("click", async () => {
            if (!confirm("ドラフトを開始しますか？ (これ以降、新しい参加者は入れません)")) return;

            try {
                const batch = writeBatch(db);
                
                // ルームステータスを更新
                const roomRef = doc(db, "rooms", currentRoomId);
                batch.update(roomRef, { 
                    status: "drafting",
                    pickStartTime: serverTimestamp() // v5: 1巡目のタイマー開始
                });

                // 全参加者のステータスを "selecting" に更新
                localParticipantsData.forEach(p => {
                    const pRef = doc(db, "rooms", currentRoomId, "participants", p.id);
                    batch.update(pRef, { status: "selecting" });
                });

                await batch.commit();
                showMessage("ドラフトが開始されました。", "success");
            } catch (error) {
                console.error("ドラフト開始エラー:", error);
                showMessage("ドラフト開始に失敗しました。", "error");
            }
        });

        // カード一斉開示
        revealCardsBtn.addEventListener("click", async () => {
            const targets = localParticipantsData.filter(p => p.status === 'selected');
            if (targets.length === 0) {
                showMessage("開示対象の参加者がいません。", "error");
                return;
            }
            
            const currentRound = localRoomData.currentRound;
            const currentPick = localRoomData.currentPick;
            
            // 選択を集計
            const selections = new Map(); // K: cardId, V: [userId1, userId2, ...]
            targets.forEach(p => {
                const cardId = p.selectedCardId;
                
                // v5: パス(null)した人は集計から除外
                if(cardId === null) {
                    return;
                }

                if (!selections.has(cardId)) {
                    selections.set(cardId, []);
                }
                selections.get(cardId).push(p.id);
            });

            console.log("Selections:", selections);

            try {
                const batch = writeBatch(db);
                const roomRef = doc(db, "rooms", currentRoomId);
                let pool = localRoomData.draftPool;
                let conflictsExist = false;
                
                // v5: パスした人 (selectedCardId: null) の処理
                const passedUsers = targets.filter(p => p.selectedCardId === null);
                passedUsers.forEach(p => {
                    const pRef = doc(db, "rooms", currentRoomId, "participants", p.id);
                    // パスした人は、抽選敗者と同じ扱いで 'selecting' に戻る
                    batch.update(pRef, { status: "selecting" });
                });

                selections.forEach((userIds, cardId) => {
                    const card = cardDataMap.get(cardId);
                    
                    if (userIds.length === 1) {
                        // --- 1. 単独指名 ---
                        const userId = userIds[0];
                        const pRef = doc(db, "rooms", currentRoomId, "participants", userId);
                        
                        const newHistoryEntry = { 
                            round: currentRound, 
                            pick: currentPick, 
                            cardId: cardId, 
                            status: "acquired" 
                        };
                        
                        const participant = localParticipantsData.find(p => p.id === userId);
                        const newHistory = [...(participant.selectionHistory || []), newHistoryEntry];
                        
                        batch.update(pRef, {
                            status: "waiting_next_pick",
                            selectedCardId: null,
                            acquiredCards: [...(participant.acquiredCards || []), cardId],
                            selectionHistory: newHistory
                        });

                        // プールから削除
                        pool = pool.filter(id => id !== cardId);
                        
                    } else {
                        // --- 2. 指名重複 ---
                        conflictsExist = true;
                        userIds.forEach(userId => {
                            const pRef = doc(db, "rooms", currentRoomId, "participants", userId);
                            
                            const newHistoryEntry = { 
                                round: currentRound, 
                                pick: currentPick, 
                                cardId: cardId, 
                                status: "conflict" // 抽選待ち
                            };
                            
                            const participant = localParticipantsData.find(p => p.id === userId);
                            const newHistory = [...(participant.selectionHistory || []), newHistoryEntry];

                            batch.update(pRef, {
                                status: "waiting_lotto", // 抽選待ち
                                selectionHistory: newHistory
                            });
                        });
                    }
                });
                
                // v5: pickStartTime をリセット (抽選 or 次巡まではタイマー停止)
                batch.update(roomRef, { 
                    draftPool: pool,
                    pickStartTime: null 
                });

                await batch.commit();
                
                if (conflictsExist) {
                    showMessage("指名が重複しました。抽選を行ってください。", "info");
                } else if (passedUsers.length > 0) {
                     showMessage("開示しました。パスした人は再選択してください。", "info");
                } else {
                    showMessage("単独指名が確定しました。次の巡目へ進んでください。", "success");
                }
                
            } catch (error) {
                console.error("カード開示エラー:", error);
                showMessage("カードの開示処理に失敗しました。", "error");

            }
        });

        // 抽選実行
        executeLottoBtn.addEventListener("click", async () => {
            const currentRound = localRoomData.currentRound;
            const currentPick = localRoomData.currentPick;

            const lottoGroups = new Map();
            localParticipantsData.forEach(p => {
                const conflictEntry = p.selectionHistory.find(
                    h => h.round === currentRound && h.pick === currentPick && h.status === 'conflict'
                );
                if (conflictEntry) {
                    const cardId = conflictEntry.cardId;
                    if (!lottoGroups.has(cardId)) {
                        lottoGroups.set(cardId, []);
                    }
                    lottoGroups.get(cardId).push(p.id);
                }
            });

            if (lottoGroups.size === 0) {
                showMessage("抽選対象がいません。", "info");
                return;
            }

            console.log("Lotto Groups:", lottoGroups);
            
            try {
                const batch = writeBatch(db);
                const roomRef = doc(db, "rooms", currentRoomId);
                let pool = localRoomData.draftPool;
                let lottoResultsMessage = "抽選結果:\n";
                let losersExist = false; // v5: 落選者がいるか

                lottoGroups.forEach((userIds, cardId) => {
                    // 抽選実行
                    const winnerId = userIds[Math.floor(Math.random() * userIds.length)];
                    const card = cardDataMap.get(cardId);
                    lottoResultsMessage += `[${card.name}] -> ${localParticipantsData.find(p=>p.id===winnerId).name} が獲得！\n`;
                    
                    userIds.forEach(userId => {
                        const pRef = doc(db, "rooms", currentRoomId, "participants", userId);
                        const participant = localParticipantsData.find(p => p.id === userId);
                        
                        const newHistory = participant.selectionHistory.map(h => {
                           if (h.round === currentRound && h.pick === currentPick && h.cardId === cardId) {
                               return { ...h, status: (userId === winnerId) ? 'acquired' : 'lost_lotto' };
                           }
                           return h;
                        });

                        if (userId === winnerId) {
                            // --- 当選者 ---
                            batch.update(pRef, {
                                status: "waiting_next_pick",
                                selectedCardId: null,
                                acquiredCards: [...(participant.acquiredCards || []), cardId],
                                selectionHistory: newHistory
                            });
                            // プールから削除
                            pool = pool.filter(id => id !== cardId);
                        } else {
                            // --- 落選者 ---
                            losersExist = true;
                            batch.update(pRef, {
                                status: "selecting", // 再度選択へ
                                selectedCardId: null,
                                selectionHistory: newHistory
                            });
                        }
                    });
                });
                
                // カードプール更新
                batch.update(roomRef, { 
                    draftPool: pool,
                    // v5: 落選者がいる場合、タイマーをスタートさせる
                    pickStartTime: losersExist ? serverTimestamp() : null
                });

                await batch.commit();
                showMessage("抽選を実行しました。外れた人は再選択してください。", "success");
                
                console.log(lottoResultsMessage); 
                
            } catch (error)
             {
                console.error("抽選実行エラー:", error);
                showMessage("抽選処理に失敗しました。", "error");
            }
        });
        
        // 次の巡目へ
        nextPickBtn.addEventListener("click", async () => {
            // 全員が 'waiting_next_pick' 状態であることを確認
            const allReady = localParticipantsData.every(p => p.status === 'waiting_next_pick');
            if (!allReady) {
                showMessage("まだ選択中の人（抽選漏れ含む）がいます。", "error");
                return;
            }

            const roomRef = doc(db, "rooms", currentRoomId);
            const nextRound = localRoomData.currentRound + 1;
            
            // v5: 上限ラウンド数チェック
            if (nextRound > localRoomData.maxPicks) {
                 await updateDoc(roomRef, { status: "finished", pickStartTime: null });
                 showMessage(`設定された ${localRoomData.maxPicks} ラウンドが終了しました。ドラフトを終了します。`, "success");
                 return;
            }

            // プールが空かチェック
            if (localRoomData.draftPool.length === 0) {
                 await updateDoc(roomRef, { status: "finished", pickStartTime: null });
                 showMessage("カードプールが空になりました。ドラフトを終了します。", "success");
                 return;
            }
            
            try {
                const batch = writeBatch(db);
                
                // 全員が獲得したので、次の「ラウンド」に進む
                const nextPick = 1;

                batch.update(roomRef, { 
                    currentRound: nextRound,
                    currentPick: nextPick,
                    pickStartTime: serverTimestamp() // v5: 次のラウンドのタイマー開始
                });

                // 全参加者のステータスを "selecting" に戻す
                localParticipantsData.forEach(p => {
                    const pRef = doc(db, "rooms", currentRoomId, "participants", p.id);
                    batch.update(pRef, { status: "selecting" });
                });

                await batch.commit();
                showMessage(`ラウンド ${nextRound} - ${nextPick}巡目 を開始します。`, "info");
                
            } catch (error) {
                console.error("次巡目への進行エラー:", error);
                showMessage("次巡目への進行に失敗しました。", "error");
            }
        });
        
        // ドラフト終了
        endDraftBtn.addEventListener("click", async () => {
             if (!confirm("本当にドラフトを終了しますか？")) return;
             try {
                 await updateDoc(doc(db, "rooms", currentRoomId), { status: "finished", pickStartTime: null });
                 showMessage("ドラフトが終了しました。", "success");
             } catch (error) {
                 console.error("ドラフト終了エラー:", error);
             }
        });

    </script>

</body>
</html>